import{d as k,o as w,r as m,b as r,e as n,f as e,u as T,t as s,F as S,h as C,p as P,q as B,g as L,w as M,v as R,l as p,i as _,s as I,x as F}from"./index-DLHUSVHD.js";import{a as V,e as q}from"./diagnosis-Ca66f_EQ.js";import{f as E}from"./diagnosis-DvXmdJZ5.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers.segment-Dc4JXg8Y.js";const c=i=>(I("data-v-a0c33226"),i=i(),F(),i),U={class:"container mt-4"},H=c(()=>e("i",{class:"bi-arrow-left-square-fill"},null,-1)),K=[H],j={class:"card card-title"},z={key:0},A={key:1},$=c(()=>e("li",null,[e("button",{type:"button",class:"btn btn-sm btn-save mt-2","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," Receta y/o Recomendación ")],-1)),g={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G={class:"modal-dialog modal-dialog-scrollable modal-lg"},J={class:"modal-content"},Q={class:"modal-header"},W={class:"modal-title fs-5",id:"staticBackdropLabel"},X=c(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Y={class:"modal-body"},Z={class:"col-auto"},D={key:0,class:"text-alert-optional"},O={key:1,class:"text-alert-error"},tt=c(()=>e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-save m-2"},"Actualizar"),e("a",{href:"",class:"btn btn-light","data-bs-dismiss":"modal"},"Cancelar")],-1)),et={key:0,class:"alert alert-success mt-2",role:"alert"},st=c(()=>e("i",{class:"bi-check-circle-fill m-1"},null,-1)),lt={key:1,class:"alert alert-warning mt-2",role:"alert"},at=c(()=>e("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),ot={key:2,class:"alert alert-danger mt-2"},rt=c(()=>e("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),nt={class:"container mt-4"},ct=k({__name:"diagnosisDetail",props:{title:{type:String,default:"Diagnosis Details"}},setup(i){let b=P();const v=B();w(async()=>{const t=await V(b.params.id);(t==null?void 0:t.statusText)=="OK"&&(h.values=t==null?void 0:t.data.results,a.treatment=t==null?void 0:t.data.results[0].treatment,a.patient=t==null?void 0:t.data.results[0].patient,a.sex=(t==null?void 0:t.data.results[0].sex)==="M"?"M":"F",a.test=t==null?void 0:t.data.results[0].test,a.result=t==null?void 0:t.data.results[0].result,a.treatment=t==null?void 0:t.data.results[0].treatment,a.condition=(t==null?void 0:t.data.results[0].condition)==="activo"?"activo":"inactivo",a.observation=t==null?void 0:t.data.results[0].observation)});const h=m([]),a=m({patient:"",sex:"F",test:"LDH/DHL",result:"0.0",treatment:"",condition:"activo",observation:""}),d=m({validateTreatment:""}),o=m({success:"",warning:"",err:""}),f=async()=>{d.validateTreatment=await E(a.treatment)},y=async()=>{try{let t=await q(b.params.id,a);(t==null?void 0:t.statusText)==="Created"?(o.success=t.data.Message,o.err="",o.warning="",setTimeout(async()=>{o.success="",location.reload()},1500)):(console.log("no hubo cambios"),o.warning="Modifique algo o presione cancelar")}catch(t){o.success="",o.err=t.response,console.log(t.response)}};return(t,u)=>(r(),n("div",U,[e("a",{onClick:u[0]||(u[0]=l=>T(v).back()),class:"col-1 icon-arrow",title:"Return"},K),e("div",j,s(i.title),1),(r(!0),n(S,null,C(h.values,l=>(r(),n("ul",{key:l.diagnosis_id},[e("li",null,"Test:"+s(" "+l.test),1),e("li",null,"Paciente:"+s(" "+l.patient),1),e("li",null,"Sex:"+s(" "+l.sex),1),e("li",null,"Pi:"+s(" "+l.pi),1),e("li",null,"P1:"+s(" "+l.p1),1),e("li",null,"P2:"+s(" "+l.p2),1),e("li",null,"P3:"+s(" "+l.p3),1),e("li",null,"Pf:"+s(" "+l.pf),1),e("li",null,"Ideal:"+s(" "+l.ideal),1),e("li",null,"Result:"+s(" "+l.result),1),e("li",null,"Interpretacion:"+s(" "+l.interpretation),1),e("li",null,"Condition:"+s(" "+l.condition),1),e("li",null,"Observation:"+s(" "+l.observation),1),e("li",null,"Created:"+s(" "+new Date(l.created).toLocaleString("pe-PE")),1),l.updated===null?(r(),n("li",z,"Updated:"+s(" "+l.updated),1)):(r(),n("li",A,"Updated:"+s(" "+new Date(l.updated).toLocaleString("pe-PE")),1)),$,e("div",null,[e("div",g,[e("div",G,[e("div",J,[e("div",Q,[e("h1",W," Receta y/o recomendación para: "+s(" "+l.test)+" - "+s(l.interpretation),1),X]),e("div",Y,[e("form",{onSubmit:L(y,["prevent"]),onKeyup:f},[e("div",Z,[M(e("textarea",{"onUpdate:modelValue":u[1]||(u[1]=x=>a.treatment=x),type:"textarea",class:"form-control input-treatment",id:"observation",placeholder:""},null,512),[[R,a.treatment]]),e("small",null,s(a.treatment.length+" de 2083 caracteres"),1),d.validateTreatment===""||d.validateTreatment==="Opcional"?(r(),n("small",D,s(d.validateTreatment),1)):(r(),n("small",O,s(d.validateTreatment),1))]),tt],32),o.success.length>0?(r(),n("p",et,[st,p(s(o.success),1)])):_("",!0),o.warning.length>0?(r(),n("p",lt,[at,p(s(o.warning),1)])):_("",!0),o.err.length>0?(r(),n("p",ot,[rt,p(s(o.err),1)])):_("",!0)])])])]),e("div",nt,s(" "+l.treatment),1)])]))),128))]))}}),_t=N(ct,[["__scopeId","data-v-a0c33226"]]);export{_t as default};

import{d as O,r as p,o as T,b as i,c as n,e as t,h as v,w as D,f as u,v as h,t as _,g as d,y as f,F as C,i as I,u as L,p as R,m as S,z as F,_ as A}from"./index-C9bBNBXe.js";import{g as M,b as V}from"./diagnosis-Ca66f_EQ.js";import{a as P,b as U}from"./diagnosis-D5vc92nm.js";import"./helpers.segment-Dc4JXg8Y.js";const l=m=>(R("data-v-b27426bd"),m=m(),S(),m),B=l(()=>t("button",{type:"button",id:"formCreate",hidden:"",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," Launch static backdrop modal ",-1)),G={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},z={class:"modal-dialog"},E={class:"modal-content"},H={class:"modal-header bg-light"},N=l(()=>t("h5",{class:"m-2"}," Crear nuevo ",-1)),K={class:"modal-body"},j={class:"card card-body mt-2"},q={class:"col-auto mt-1"},W=l(()=>t("label",{for:"patient"},"Paciente",-1)),J={key:0,class:"text-alert-error"},Q={class:"col-auto mt-1"},X=l(()=>t("label",{for:"Sex"},"Género",-1)),Y=l(()=>t("option",{value:"M"},"M",-1)),Z=l(()=>t("option",{value:"F"},"F",-1)),$=[Y,Z],tt={class:"col-auto mt-1"},et=l(()=>t("label",{for:"test"},"Test",-1)),st=["value"],ot={key:0,class:"text-alert-error"},at={class:"col-auto mt-1"},lt=l(()=>t("label",{for:"result"},"Result",-1)),it={key:0,class:"text-alert-error"},nt={class:"col-auto mt-1"},rt=l(()=>t("label",{for:"condition"},"Condición",-1)),ct=l(()=>t("option",{value:"activo"},"Activo",-1)),dt=l(()=>t("option",{value:"inactivo"},"Inactivo",-1)),ut=[ct,dt],_t={class:"col-auto mt-1"},mt=l(()=>t("label",{for:"observation"},"Observación",-1)),pt={key:0,class:"text-alert-error"},bt={class:"modal-footer"},vt=l(()=>t("button",{type:"submit",class:"btn btn-save m-2"},"Crear",-1)),ht={key:0,class:"alert alert-success mt-2",role:"alert"},ft=l(()=>t("i",{class:"bi-check-circle-fill m-1"},null,-1)),gt={key:1,class:"alert alert-warning mt-2",role:"alert"},yt=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),Ct={key:2,class:"alert alert-danger mt-2"},xt=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),kt=O({__name:"diagnosisCreate",props:{title:{type:String,default:"Detalles"},closeFormCreate:{type:Function}},setup(m){const b=m,x=p([]),e=p({patient:"",sex:"F",test:"LDH/DHL",result:"0.0",condition:"activo",observation:""});let g=p(["LDH/DHL","GLUCOSA","COL. TOTAL","TRIGLICERIDOS","UREA","Co2","VCM","RDW ADE IDE","GGTP","TGO AST","TGP ALT","ACIDO URICO","HEMOGLOBINA"]);const c=p({validatePatient:"",validateResult:""}),r=p({success:"",warning:"",err:""});T(async()=>{await w(),y(),console.log(g);let s=document.getElementById("formCreate");s==null||s.click()});const y=async()=>{c.validatePatient=await P(e.patient),c.validateResult=await U(e.result)},k=async()=>{try{let s=await V(e);(s==null?void 0:s.statusText)==="Created"&&(r.err="",await F.replace("/diagnosis/"+e.patient),location.reload())}catch(s){r.success="",r.err=s.response.data.Message,console.log(s.response.data.Message)}},w=async()=>{const s=await M();(s==null?void 0:s.statusText)=="OK"&&(x.values=s==null?void 0:s.data.results,console.log(s==null?void 0:s.data.results))};return(s,a)=>(i(),n(C,null,[B,t("div",G,[t("div",z,[t("div",E,[t("div",H,[N,t("button",{type:"button",onClick:a[0]||(a[0]=(...o)=>b.closeFormCreate&&b.closeFormCreate(...o)),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),t("div",K,[v(" Agrega sus datos y su prueba de laboratorio "),t("form",{onSubmit:D(k,["prevent"]),onKeyup:y},[t("div",j,[t("div",q,[W,u(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.patient=o),type:"text",class:"form-control input-size",id:"patient"},null,512),[[h,e.patient]]),c.validatePatient!==""&&c.validatePatient!=="Opcional"?(i(),n("small",J,_(c.validatePatient),1)):d("",!0)]),t("div",Q,[X,u(t("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>e.sex=o),class:"form-select select-size",id:"Sex"},$,512),[[f,e.sex]])]),t("div",tt,[et,u(t("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>e.test=o),class:"form-select select-size",id:"test"},[(i(!0),n(C,null,I(L(g),o=>(i(),n("option",{key:o,value:o},_(o),9,st))),128))],512),[[f,e.test]]),e.test===""||e.test.length===0||e.test===void 0?(i(),n("small",ot," Requerido ")):d("",!0)]),t("div",at,[lt,u(t("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>e.result=o),type:"text",class:"form-control input-size",id:"result"},null,512),[[h,e.result]]),c.validateResult!==""&&c.validateResult!=="Opcional"?(i(),n("small",it,_(c.validateResult),1)):d("",!0)]),t("div",nt,[rt,u(t("select",{"onUpdate:modelValue":a[5]||(a[5]=o=>e.condition=o),class:"form-select select-size",id:"condition"},ut,512),[[f,e.condition]])]),t("div",_t,[mt,u(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=o=>e.observation=o),type:"text",class:"form-control input-size",id:"observation",placeholder:""},null,512),[[h,e.observation]]),e.observation!==null&&e.observation.length>2083?(i(),n("small",pt," No se aceptan mas caracteres ")):d("",!0)])]),t("footer",bt,[vt,t("button",{onClick:a[7]||(a[7]=(...o)=>b.closeFormCreate&&b.closeFormCreate(...o)),class:"btn btn-light","data-bs-dismiss":"modal"}," Cancelar ")])],32),r.success.length>0?(i(),n("p",ht,[ft,v(_(r.success),1)])):d("",!0),r.warning.length>0?(i(),n("p",gt,[yt,v(_(r.warning),1)])):d("",!0),r.err.length>0?(i(),n("p",Ct,[xt,v(_(r.err),1)])):d("",!0)])])])])],64))}}),It=A(kt,[["__scopeId","data-v-b27426bd"]]);export{It as default};

import{d as Q,o as W,r as E,a as d,b as ht,c as i,e as c,f as t,w as Y,g as O,v as R,h as I,i as B,F as T,j,u as z,t as _,k as m,l as F,m as P,R as Z,p as pt,n as ft,q as bt}from"./index-CSE2LsJC.js";import{g as q}from"./diagnosis-Ca66f_EQ.js";import tt from"./diagnosisCreate-C8_e-zJq.js";import{_ as mt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as gt}from"./diagnosisDelete.vue_vue_type_script_setup_true_lang-0KQAwWv6.js";import{_ as Ct}from"./diagnosisEdit.vue_vue_type_script_setup_true_lang-Y5LmwHwH.js";import"./diagnosis-D-Mc2LzV.js";import"./helpers.segment-Dc4JXg8Y.js";const N=S=>(pt("data-v-13dcaf65"),S=S(),ft(),S),kt={class:"container-fluid"},yt={class:"card card-search1"},xt={class:"row row-search"},wt={class:"col-auto"},Dt={class:"row"},Mt=N(()=>t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn btn-sm btn-search"},"Buscar")],-1)),$t={class:"col-auto"},Vt=N(()=>t("i",{class:"bi-search"},null,-1)),zt={class:"col-1"},St={key:1,disabled:"",type:"button",class:"btn btn-light btn-sm"},Lt={class:"col-auto mt-4"},Ft=N(()=>t("i",{class:"bi-plus-square-fill"},null,-1)),Et={class:"scale-table"},It={class:"table table-hover text-center"},Pt=N(()=>t("thead",null,[t("tr",{class:"thead-tr"},[t("th")])],-1)),Nt={key:0,class:"text-success"},At={key:1,class:"text-danger"},Ot=Q({__name:"diagnosisPatientList",props:{title:{type:String,default:"Pacientes"}},setup(S){W(async()=>{const o=await q();(o==null?void 0:o.statusText)=="OK"&&(b.values=o.data.patients),b.length>0&&k(r.value)});const b=E([]),r=d(1),h=d(),y=d(!0),x=d(!1);let u=E([]);const v=d(""),g=d(""),C=d(""),L=()=>{x.value=!0},V=()=>{x.value=!1},w=()=>{if(b.values.length>0)if(v.value.length===0)k(1);else{const o=f=>b.values.filter(p=>p.patient.toLowerCase()===f.toLowerCase());if(o(v.value).length>0)u.values=o(v.value),y.value=!1,C.value=u.values.length+" records found",g.value="";else{let f=[];u.values=f.values,y.value=!1,C.value="",g.value='No se encontró, ningun registro para "'+v.value+'" vuelva a intentar'}}},k=async o=>{let f=[];if(u.values=f.values,v.value="",g.value="",C.value="",y.value=!0,r.value=o,u.values.length>0){let D=o*h.value-h.value,p=o*h.value;u.slice(D,p)}else{let D=o*h.value-h.value,p=o*h.value,A=b.values;u.values=A.slice(D,p)}};return(o,f)=>{const D=ht("h8");return i(),c("div",kt,[t("div",null,[t("div",yt,[t("div",xt,[t("div",wt,[t("form",{onSubmit:Y(w,["prevent"])},[t("div",Dt,[Mt,t("div",$t,[Vt,O(t("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>v.value=p),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[R,v.value]])]),t("div",zt,[C.value.length>0||g.value.length>0?(i(),c("button",{key:0,onClick:f[1]||(f[1]=p=>k(1)),type:"button",class:"btn btn-light btn-sm"}," X ")):(i(),c("button",St,"x"))]),t("div",Lt,[t("a",{onClick:L,title:"Create diagnosis",type:"button"},[I(D,null,{default:B(()=>[P(" No tiene aún? crea Aquí")]),_:1}),Ft])])])],32)])])]),t("div",Et,[t("table",It,[Pt,t("tbody",null,[(i(!0),c(T,null,j(z(u).values,p=>(i(),c("tr",{key:p.diagnosis_id,class:"tbody-tr"},[t("td",null,[I(z(Z),{class:"td-decoration",to:"/diagnosis/"+p.patient,title:"Detail"},{default:B(()=>[P(_(p.patient),1)]),_:2},1032,["to"])])]))),128))]),C.value.length>0?(i(),c("small",Nt,_(C.value),1)):m("",!0),g.value.length>0?(i(),c("small",At,_(g.value),1)):m("",!0)])]),x.value?(i(),F(tt,{key:0,"close-form-create":V})):m("",!0)])])}}}),Rt=mt(Ot,[["__scopeId","data-v-13dcaf65"]]),Bt={class:"container"},Tt={class:"card mt-3 p-3"},jt=t("div",{class:"card card-title"},"Pacientes",-1),Kt={hidden:""},Ut={class:"card card-search"},Xt={class:"row row-search"},Gt=t("i",{class:"bi-person-fill-add"},null,-1),Ht=[Gt],Jt=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),Qt={class:"col-auto"},Wt={class:"row m-2"},Yt={class:"col-auto"},Zt=t("i",{class:"bi-search"},null,-1),qt={class:"row"},te=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),ee={class:"col-auto"},se={key:1,disabled:"",type:"button",class:"btn-form"},le={class:"col-auto mt-1"},oe=t("i",{class:"bi-search"},null,-1),ne=t("i",{class:"bi-printer"},null,-1),ae=[ne],ie={class:"scale-table"},ce={class:"table table-hover text-center"},ue=t("i",{class:"bi-filter"},null,-1),re=t("i",{class:"bi-filter"},null,-1),de=t("i",{class:"bi-filter"},null,-1),ve=t("i",{class:"bi-filter"},null,-1),_e=t("i",{class:"bi-filter"},null,-1),he=t("i",{class:"bi-filter"},null,-1),pe=t("i",{class:"bi-filter"},null,-1),fe=t("i",{class:"bi-filter"},null,-1),be=t("th",null,[t("button",{class:"btn btn-sm th-font-size"},"Action")],-1),me={class:"color-td"},ge={class:"color-td"},Ce={class:"color-td"},ke={class:"color-td"},ye={class:"color-td"},xe={class:"color-td"},we={class:"color-td"},De={class:"color-td"},Me={class:"colorBarra"},$e=t("i",{class:"bi-card-checklist"},null,-1),Ve=["onClick"],ze=t("i",{class:"bi-pencil-fill"},null,-1),Se=[ze],Le=["onClick"],Fe=t("i",{class:"bi-trash-fill"},null,-1),Ee=[Fe],Ie={key:0,class:"text-success"},Pe={key:1,class:"text-danger"},Ne={key:0,class:"pagination justify-content-center"},Ae=t("li",{class:"page-item disabled"},[t("button",{class:"page-link size"},"Pages")],-1),Oe=t("button",{type:"button",class:"page-link size"},"First",-1),Re=[Oe],Be=t("button",{type:"button",class:"page-link size"},"First",-1),Te=[Be],je=t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1),Ke=[je],Ue=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1),Xe=[Ue],Ge=["onClick"],He={key:0,type:"button",class:"page-link size"},Je={key:0,type:"button",class:"page-link size"},Qe=t("i",{class:"bi-chevron-right"},null,-1),We=[Qe],Ye=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1),Ze=[Ye],qe=t("button",{type:"button",class:"page-link size"},"Last",-1),ts=[qe],es=t("button",{type:"button",class:"page-link size"},"Last",-1),ss=[es],ls={class:"page-item disabled"},os={class:"page-link size"},_s=Q({__name:"diagnosisList",props:{title:{type:String,default:"Detalles"}},setup(S){W(async()=>{const l=await q();(l==null?void 0:l.statusText)=="OK"&&(b.values=l==null?void 0:l.data.results,console.log(l==null?void 0:l.data.results)),M(r.value),K()});const b=E([]),r=d(1),h=d(3),y=d(!0),x=d(!0);let u=E([]);const v=d(""),g=d(!1),C=d(!1),L=d(!1);let V=d(0);const w=d(""),k=d(""),o=d(!1),f=()=>{g.value=!0},D=()=>{g.value=!1},p=l=>{console.log(l),V.value=l,C.value=!0},A=()=>{C.value=!1},et=l=>{console.log(l),V.value=l,L.value=!0},st=()=>{L.value=!1},K=async()=>{let l=await document.getElementsByClassName("color-td");for(let n=0;n<l.length;n++){const e=l[n];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","color:#4CAF50;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","color:#FF9800;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","color:#FF5722;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;")}console.log(typeof l[6].textContent)},lt=()=>{window.print()},ot=()=>{const l=(s,a)=>s.diagnosis_id-a.diagnosis_id,n=(s,a)=>a.diagnosis_id-s.diagnosis_id,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},nt=()=>{const l=(s,a)=>s.patient.localeCompare(a.patient),n=(s,a)=>a.patient.localeCompare(s.patient),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},at=()=>{const l=(s,a)=>s.test.localeCompare(a.test),n=(s,a)=>a.test.localeCompare(s.test),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},it=()=>{const l=(s,a)=>parseFloat(s.result)-parseFloat(a.result),n=(s,a)=>parseFloat(a.result)-parseFloat(s.result),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},ct=()=>{const l=(s,a)=>s.pi-a.pi,n=(s,a)=>a.pi-s.pi,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},ut=()=>{const l=(s,a)=>s.ideal-a.ideal,n=(s,a)=>a.ideal-s.ideal,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},rt=()=>{const l=(s,a)=>s.pf-a.pf,n=(s,a)=>a.pf-s.pf,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},dt=()=>{const l=(s,a)=>s.interpretation.localeCompare(a.interpretation),n=(s,a)=>a.interpretation.localeCompare(s.interpretation),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},U=()=>{if(v.value.length==0)M(1);else{const l=n=>b.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(n)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(n.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(n.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(n)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(n)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(n)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(n)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(n.toLowerCase())>-1);if(l(v.value).length>0)u.values=l(v.value),y.value=!1,k.value=u.values.length+" records found",w.value="";else{let n=[];u.values=n.values,y.value=!1,k.value="",w.value="No records found"}}},vt=()=>{x.value==!0?x.value=!1:x.value=!0},_t=l=>l==r.value?"active":"",$=()=>Math.ceil(b.values.length/h.value),M=async l=>{let n=[];if(u.values=n.values,v.value="",w.value="",k.value="",y.value=!0,r.value=l,u.values.length>0){let e=l*h.value-h.value,s=l*h.value;u.slice(e,s)}else{let e=l*h.value-h.value,s=l*h.value,a=b.values;u.values=a.slice(e,s)}},X=()=>{r.value>1&&r.value--,M(1)},G=()=>{r.value>1&&r.value--,M(r.value)},H=()=>{r.value<$()&&r.value++,M(r.value)},J=()=>{r.value<$()&&r.value++,M($())};return(l,n)=>(i(),c("div",Bt,[t("div",Tt,[jt,I(Rt),t("div",Kt,[t("div",Ut,[t("div",Xt,[t("a",{onClick:f,type:"button",class:"col-1 icon-add",title:"Create diagnosis"},Ht),t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[Jt,t("input",{onClick:vt,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",Qt,[x.value==!0?(i(),c("form",{key:0,onKeyup:U},[t("div",Wt,[t("div",Yt,[Zt,O(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[R,v.value]])])])],32)):(i(),c("form",{key:1,onSubmit:Y(U,["prevent"])},[t("div",qt,[te,t("div",ee,[k.value.length>0||w.value.length>0?(i(),c("button",{key:0,onClick:n[1]||(n[1]=e=>M(1)),type:"button",class:"btn-form cancel"}," Exit ")):(i(),c("button",se,"Exit"))]),t("div",le,[oe,O(t("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>v.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[R,v.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:lt,type:"button"},ae)])])]),t("div",ie,[t("table",ce,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",null,[ue,t("button",{onClick:ot,class:"btn btn-sm th-font-size"},"Id")]),t("th",null,[re,t("button",{onClick:nt,class:"btn btn-sm th-font-size"},"FullName")]),t("th",null,[de,t("button",{onClick:at,class:"btn btn-sm th-font-size"},"Test")]),t("th",null,[ve,t("button",{onClick:it,class:"btn btn-sm th-font-size"},"Result")]),t("th",null,[_e,t("button",{onClick:ct,class:"btn btn-sm th-font-size"},"Ri")]),t("th",null,[he,t("button",{onClick:ut,class:"btn btn-sm th-font-size"},"Ideal")]),t("th",null,[pe,t("button",{onClick:rt,class:"btn btn-sm th-font-size"},"Rf")]),t("th",null,[fe,t("button",{onClick:dt,class:"btn btn-sm th-font-size"}," Interpretation ")]),be])]),t("tbody",null,[(i(!0),c(T,null,j(z(u).values,e=>(i(),c("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",me,_(e.diagnosis_id),1),t("td",ge,_(e.patient),1),t("td",Ce,_(e.test),1),t("td",ke,_(e.result),1),t("td",ye,_(e.pi),1),t("td",xe,_(e.ideal),1),t("td",we,_(e.pf),1),t("td",De,_(e.interpretation),1),t("td",Me,[I(z(Z),{to:"/diagnosis/detail/"+e.diagnosis_id,class:"btn btn-outline-info btn-sm",title:"Detail"},{default:B(()=>[$e]),_:2},1032,["to"]),P(" | "),t("button",{onClick:s=>p(e.diagnosis_id),class:"btn btn-outline-warning btn-sm",title:"Edit"},Se,8,Ve),P(" | "),t("button",{onClick:s=>et(e.diagnosis_id),class:"btn btn-outline-danger btn-sm",title:"Delete"},Ee,8,Le)])]))),128))]),k.value.length>0?(i(),c("small",Ie,_(k.value),1)):m("",!0),w.value.length>0?(i(),c("small",Pe,_(w.value),1)):m("",!0)])]),t("nav",{onClick:K,"aria-label":"Page navigation"},[y.value?(i(),c("ul",Ne,[Ae,r.value>=2?(i(),c("li",{key:0,onClick:X,class:"page-item"},Re)):(i(),c("li",{key:1,onClick:X,class:"page-item disabled"},Te)),r.value>=2?(i(),c("li",{key:2,onClick:G,class:"page-item"},Ke)):(i(),c("li",{key:3,onClick:G,class:"page-item disabled"},Xe)),(i(!0),c(T,null,j($(),e=>(i(),c("li",{key:e,onClick:s=>M(e),class:bt(["page-item",_t(e)])},[r.value-1<e&&e<r.value+3?(i(),c("button",He,_(e),1)):m("",!0)],10,Ge))),128)),r.value<$()?(i(),c("li",{key:4,onClick:H,class:"page-item"},[r.value<$()?(i(),c("button",Je,We)):m("",!0)])):(i(),c("li",{key:5,onClick:H,class:"page-item disabled"},Ze)),r.value<$()?(i(),c("li",{key:6,onClick:J,class:"page-item"},ts)):(i(),c("li",{key:7,onClick:J,class:"page-item disabled"},ss)),t("li",ls,[t("button",os,"Total: "+_(b.values.length),1)])])):m("",!0)])])]),g.value?(i(),F(tt,{key:0,"close-form-create":D})):m("",!0),C.value?(i(),F(Ct,{key:1,"close-form-edit":A,"edit-id":z(V)},null,8,["edit-id"])):m("",!0),L.value?(i(),F(gt,{key:2,"close-form-delete":st,"delete-id":z(V)},null,8,["delete-id"])):m("",!0)]))}});export{_s as default};

import{d as O,r as d,o as w,b as i,e as l,f as t,g as R,w as u,v as m,t as c,y as h,F as T,h as M,u as C,i as _,l as g,p as L,z as S}from"./index-CyhpGcIp.js";import{g as D,a as A,e as P}from"./diagnosis-Ca66f_EQ.js";import{a as V,b as N}from"./diagnosis-B5YQzqkE.js";import"./helpers.segment-Dc4JXg8Y.js";const U={class:"container-fluid mt-3"},z={class:"row m-1"},E={class:"col-4"},G=t("div",{class:"card card-title"},[t("div",null,"Editar Diagnosis")],-1),I={class:"card card-body"},F={class:"col-auto"},H=t("label",{for:"patient"},"Paciente",-1),B={key:0,class:"text-alert-optional"},J={key:1,class:"text-alert-error"},q={class:"col-auto"},K=t("label",{for:"Sex"},"Género",-1),$=t("option",{value:"M"},"M",-1),j=t("option",{value:"F"},"F",-1),W=[$,j],Q={class:"col-auto"},X=t("label",{for:"test"},"Test",-1),Y=["value"],Z={key:0,class:"text-alert-error"},tt={key:1,class:"text-alert-optional"},et={class:"col-auto"},st=t("label",{for:"result"},"Result",-1),ot={key:0,class:"text-alert-optional"},at={key:1,class:"text-alert-error"},it={class:"col-auto"},lt=t("label",{for:"condition"},"Condición",-1),nt=t("option",{value:"activo"},"Activo",-1),rt=t("option",{value:"inactivo"},"Inactivo",-1),ct=[nt,rt],dt={class:"col-auto"},ut=t("label",{for:"observation"},"Observación",-1),_t={key:0,class:"text-alert-error"},vt={class:"card card-footer"},pt=t("button",{type:"submit",class:"btn btn-save m-2"},"Actualizar",-1),mt={key:0,class:"alert alert-success mt-2",role:"alert"},ht=t("i",{class:"bi-check-circle-fill m-1"},null,-1),gt={key:1,class:"alert alert-warning mt-2",role:"alert"},ft=t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1),bt={key:2,class:"alert alert-danger mt-2"},yt=t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1),xt=t("div",{class:"col-8"},"Libre para agregar algo aqui",-1),Mt=O({__name:"diagnosisEdit",setup(kt){const v=L(),y=d([]),p=d([]),e=d({patient:"",sex:"F",test:"LDH/DHL",result:"0.0",treatment:"",condition:"activo",observation:""});let f=d(["LDH/DHL","GLUCOSA","COL. TOTAL","TRIGLICERIDOS","UREA","Co2","VCM","RDW ADE IDE","GGTP","TGO AST","TGP ALT","ACIDO URICO","HEMOGLOBINA"]);const r=d({validatePatient:"",validateResult:""}),n=d({success:"",warning:"",err:""});w(async()=>{await x(),b(),console.log(f)});const x=async()=>{const a=await D();if((a==null?void 0:a.statusText)=="OK"&&(y.values=a==null?void 0:a.data.results,console.log(a==null?void 0:a.data.results)),v.params.id!==void 0){const o=await A(v.params.id);(o==null?void 0:o.statusText)=="OK"&&(p.values=o==null?void 0:o.data.results);const s=JSON.parse(JSON.stringify(p.values))[0];console.log(JSON.parse(JSON.stringify(p.values))[0]),e.patient=s.patient,e.sex=s.sex==="M"?"M":"F",e.test=s.test,e.result=s.result,e.treatment=s.treatment,e.condition=s.condition==="activo"?"activo":"inactivo",e.observation=s.observation}},k=async()=>{try{let a=await P(v.params.id,e);(a==null?void 0:a.statusText)==="Created"?(n.success=a.data.Message,n.err="",S.back()):(console.log("no hubo cambios"),n.warning="Modifique algo o presione cancelar")}catch(a){n.success="",n.err=a.response.data.Message,console.log(a.response.data.Message)}},b=async()=>{r.validatePatient=await V(e.patient),r.validateResult=await N(e.result)};return(a,o)=>(i(),l("div",U,[t("div",z,[t("div",E,[t("form",{onSubmit:R(k,["prevent"]),onKeyup:b},[G,t("div",I,[t("div",F,[H,u(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.patient=s),type:"text",class:"form-control input-size",id:"patient"},null,512),[[m,e.patient]]),r.validatePatient===""||r.validatePatient==="Opcional"?(i(),l("small",B,c(r.validatePatient),1)):(i(),l("small",J,c(r.validatePatient),1))]),t("div",q,[K,u(t("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>e.sex=s),class:"form-select select-size",id:"Sex"},W,512),[[h,e.sex]])]),t("div",Q,[X,u(t("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>e.test=s),class:"form-select select-size",id:"test"},[(i(!0),l(T,null,M(C(f),s=>(i(),l("option",{key:s,value:s},c(s),9,Y))),128))],512),[[h,e.test]]),e.test===""||e.test.length===0||e.test===void 0?(i(),l("small",Z," Requerido ")):(i(),l("small",tt))]),t("div",et,[st,u(t("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>e.result=s),type:"text",class:"form-control input-size",id:"result"},null,512),[[m,e.result]]),r.validateResult===""||r.validateResult==="Opcional"?(i(),l("small",ot,c(r.validateResult),1)):(i(),l("small",at,c(r.validateResult),1))]),t("div",it,[lt,u(t("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>e.condition=s),class:"form-select select-size",id:"condition"},ct,512),[[h,e.condition]])]),t("div",dt,[ut,u(t("textarea",{"onUpdate:modelValue":o[5]||(o[5]=s=>e.observation=s),type:"text",class:"form-control input-size",id:"observation",placeholder:""},null,512),[[m,e.observation]]),e.observation!==null&&e.observation.length>2083?(i(),l("small",_t," No se aceptan mas caracteres ")):_("",!0)])]),t("div",vt,[pt,t("button",{onClick:o[6]||(o[6]=s=>a.$router.back()),class:"btn btn-light"},"Cancelar")])],32),n.success.length>0?(i(),l("p",mt,[ht,g(c(n.success),1)])):_("",!0),n.warning.length>0?(i(),l("p",gt,[ft,g(c(n.warning),1)])):_("",!0),n.err.length>0?(i(),l("p",bt,[yt,g(c(n.err),1)])):_("",!0)]),xt])]))}});export{Mt as default};

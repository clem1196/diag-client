import{d as O,r as p,o as w,c as n,e as r,f as t,m as b,w as D,g as u,v as h,t as m,k as d,z as f,F as C,j as I,u as L,p as R,n as S}from"./index-CuAqxrR_.js";import{g as F,b as M}from"./diagnosis-Ca66f_EQ.js";import{a as A,b as V}from"./diagnosis-BkvHN_4M.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers.segment-Dc4JXg8Y.js";const l=_=>(R("data-v-d9c01a2a"),_=_(),S(),_),U=l(()=>t("button",{type:"button",id:"formCreate",hidden:"",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," Launch static backdrop modal ",-1)),B={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},G={class:"modal-dialog"},z={class:"modal-content"},E={class:"modal-header bg-light"},H=l(()=>t("h5",{class:"m-2"}," Crear nuevo ",-1)),N={class:"modal-body"},j={class:"card card-body mt-2"},K={class:"col-auto mt-1"},q=l(()=>t("label",{for:"patient"},"Paciente",-1)),W={key:0,class:"text-alert-error"},J={class:"col-auto mt-1"},Q=l(()=>t("label",{for:"Sex"},"Género",-1)),X=l(()=>t("option",{value:"M"},"M",-1)),Y=l(()=>t("option",{value:"F"},"F",-1)),Z=[X,Y],$={class:"col-auto mt-1"},tt=l(()=>t("label",{for:"test"},"Test",-1)),et=["value"],st={key:0,class:"text-alert-error"},ot={class:"col-auto mt-1"},at=l(()=>t("label",{for:"result"},"Result",-1)),lt={key:0,class:"text-alert-error"},it={class:"col-auto mt-1"},nt=l(()=>t("label",{for:"condition"},"Condición",-1)),rt=l(()=>t("option",{value:"activo"},"Activo",-1)),ct=l(()=>t("option",{value:"inactivo"},"Inactivo",-1)),dt=[rt,ct],ut={class:"col-auto mt-1"},mt=l(()=>t("label",{for:"observation"},"Observación",-1)),_t={key:0,class:"text-alert-error"},pt={class:"modal-footer"},vt=l(()=>t("button",{type:"submit",class:"btn btn-save m-2"},"Crear",-1)),bt={key:0,class:"alert alert-success mt-2",role:"alert"},ht=l(()=>t("i",{class:"bi-check-circle-fill m-1"},null,-1)),ft={key:1,class:"alert alert-warning mt-2",role:"alert"},gt=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),yt={key:2,class:"alert alert-danger mt-2"},Ct=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),xt=O({__name:"diagnosisCreate",props:{title:{type:String,default:"Detalles"},closeFormCreate:{type:Function}},setup(_){const v=_,x=p([]),s=p({patient:"",sex:"F",test:"LDH/DHL",result:"0.0",condition:"activo",observation:""});let g=p(["LDH/DHL","GLUCOSA","COL. TOTAL","TRIGLICERIDOS","UREA","Co2","VCM","RDW ADE IDE","GGTP","TGO AST","TGP ALT","ACIDO URICO","HEMOGLOBINA"]);const c=p({validatePatient:"",validateResult:""}),i=p({success:"",warning:"",err:""});w(async()=>{await T(),y(),console.log(g);let e=document.getElementById("formCreate");e==null||e.click()});const y=async()=>{c.validatePatient=await A(s.patient),c.validateResult=await V(s.result)},k=async()=>{try{let e=await M(s);(e==null?void 0:e.statusText)==="Created"&&(i.success=e.data.Message,i.err="",setTimeout(async()=>{i.success="",location.reload()},1500))}catch(e){i.success="",i.err=e.response.data.Message,console.log(e.response.data.Message)}},T=async()=>{const e=await F();(e==null?void 0:e.statusText)=="OK"&&(x.values=e==null?void 0:e.data.results,console.log(e==null?void 0:e.data.results))};return(e,a)=>(n(),r(C,null,[U,t("div",B,[t("div",G,[t("div",z,[t("div",E,[H,t("button",{type:"button",onClick:a[0]||(a[0]=(...o)=>v.closeFormCreate&&v.closeFormCreate(...o)),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),t("div",N,[b(" Agrega sus datos y su prueba de laboratorio "),t("form",{onSubmit:D(k,["prevent"]),onKeyup:y},[t("div",j,[t("div",K,[q,u(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.patient=o),type:"text",class:"form-control input-size",id:"patient"},null,512),[[h,s.patient]]),c.validatePatient!==""&&c.validatePatient!=="Opcional"?(n(),r("small",W,m(c.validatePatient),1)):d("",!0)]),t("div",J,[Q,u(t("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>s.sex=o),class:"form-select select-size",id:"Sex"},Z,512),[[f,s.sex]])]),t("div",$,[tt,u(t("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.test=o),class:"form-select select-size",id:"test"},[(n(!0),r(C,null,I(L(g),o=>(n(),r("option",{key:o,value:o},m(o),9,et))),128))],512),[[f,s.test]]),s.test===""||s.test.length===0||s.test===void 0?(n(),r("small",st," Requerido ")):d("",!0)]),t("div",ot,[at,u(t("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>s.result=o),type:"text",class:"form-control input-size",id:"result"},null,512),[[h,s.result]]),c.validateResult!==""&&c.validateResult!=="Opcional"?(n(),r("small",lt,m(c.validateResult),1)):d("",!0)]),t("div",it,[nt,u(t("select",{"onUpdate:modelValue":a[5]||(a[5]=o=>s.condition=o),class:"form-select select-size",id:"condition"},dt,512),[[f,s.condition]])]),t("div",ut,[mt,u(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=o=>s.observation=o),type:"text",class:"form-control input-size",id:"observation",placeholder:""},null,512),[[h,s.observation]]),s.observation!==null&&s.observation.length>2083?(n(),r("small",_t," No se aceptan mas caracteres ")):d("",!0)])]),t("footer",pt,[vt,t("button",{onClick:a[7]||(a[7]=(...o)=>v.closeFormCreate&&v.closeFormCreate(...o)),class:"btn btn-light","data-bs-dismiss":"modal"}," Cancelar ")])],32),i.success.length>0?(n(),r("p",bt,[ht,b(m(i.success),1)])):d("",!0),i.warning.length>0?(n(),r("p",ft,[gt,b(m(i.warning),1)])):d("",!0),i.err.length>0?(n(),r("p",yt,[Ct,b(m(i.err),1)])):d("",!0)])])])])],64))}}),It=P(xt,[["__scopeId","data-v-d9c01a2a"]]);export{It as default};

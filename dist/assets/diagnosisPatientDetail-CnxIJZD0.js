import{d as nt,o as it,r as R,e as d,a as i,c,f as t,t as v,h as N,v as O,w as at,F as B,i as I,u as w,j as _,l as T,k as F,s as ct,m as rt,R as ut,g as j,q as dt}from"./index-BTw6lcOv.js";import{g as vt}from"./diagnosis-Ca66f_EQ.js";import _t from"./diagnosisGraphics-KGiqQ3pc.js";import{_ as ht}from"./diagnosisAdd.vue_vue_type_script_setup_true_lang-D_BUbcSE.js";import{_ as pt}from"./diagnosisEdit.vue_vue_type_script_setup_true_lang-C44GQhh_.js";import{_ as ft}from"./diagnosisDelete.vue_vue_type_script_setup_true_lang-Br_Ee1Zf.js";import"./helpers.segment-Dc4JXg8Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./diagnosis-ZWfr0qNM.js";const bt={class:"container"},mt={class:"card mt-3 p-4"},gt={class:"col-1"},kt={key:0},Ct={key:0,class:"card card-title"},yt={class:"bi-check-circle-fill text-success"},xt={key:1,class:"card card-title"},wt={class:"card card-search"},Dt={class:"row row-search"},zt=t("i",{class:"bi-person-fill-add"},null,-1),Mt=[zt],Vt=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),Ft={class:"col-auto"},St={class:"row m-2"},At={class:"col-auto"},Lt=t("i",{class:"bi-search"},null,-1),$t={class:"row"},Pt=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),Et={class:"col-auto"},Rt={key:1,disabled:"",type:"button",class:"btn-form"},Nt={class:"col-auto mt-1"},Ot=t("i",{class:"bi-search"},null,-1),Bt=t("i",{class:"bi-printer"},null,-1),It=[Bt],Tt={class:"scale-table"},jt={class:"table table-hover text-center"},Kt=t("i",{class:"bi-filter"},null,-1),Ut=t("i",{class:"bi-filter"},null,-1),Gt=t("i",{class:"bi-filter"},null,-1),Ht=t("i",{class:"bi-filter"},null,-1),Jt=t("i",{class:"bi-filter"},null,-1),Qt=t("i",{class:"bi-filter"},null,-1),Wt=t("i",{class:"bi-filter"},null,-1),Xt=t("th",null,[t("button",{class:"btn btn-sm th-font-size"},"Action")],-1),Yt={class:"color-td"},Zt={class:"color-td"},qt={class:"color-td"},te={class:"colorBarra"},ee=t("i",{class:"bi-card-checklist"},null,-1),se=["onClick"],oe=t("i",{class:"bi-pencil-fill"},null,-1),le=[oe],ne=["onClick"],ie=t("i",{class:"bi-trash-fill"},null,-1),ae=[ie],ce={key:0,class:"text-success"},re={key:1,class:"text-danger"},ue={key:0,class:"pagination justify-content-center"},de=t("li",{class:"page-item disabled"},[t("button",{class:"page-link size"},"Pages")],-1),ve=t("button",{type:"button",class:"page-link size"},"First",-1),_e=[ve],he=t("button",{type:"button",class:"page-link size"},"First",-1),pe=[he],fe=t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1),be=[fe],me=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1),ge=[me],ke=["onClick"],Ce={key:0,type:"button",class:"page-link size"},ye={key:0,type:"button",class:"page-link size"},xe=t("i",{class:"bi-chevron-right"},null,-1),we=[xe],De=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1),ze=[De],Me=t("button",{type:"button",class:"page-link size"},"Last",-1),Ve=[Me],Fe=t("button",{type:"button",class:"page-link size"},"Last",-1),Se=[Fe],Ae={class:"page-item disabled"},Le={class:"page-link size"},Ke=nt({__name:"diagnosisPatientDetail",props:{title:{type:String,default:"Detalles"}},setup($e){const D=ct();it(async()=>{if(D.params.name!==void 0){const o=await vt();if((o==null?void 0:o.statusText)=="OK"){console.log(D.params.name);let l=await(o==null?void 0:o.data.results.filter(e=>e.patient===D.params.name));h.values=l}console.log(h),f(r.value),S()}});const h=R([]),r=d(1),b=d(3),C=d(!0),y=d(!0);let u=R([]);const p=d(""),z=d(!1),M=d(!1),V=d(!1);let x=d(0);const g=d(""),k=d(""),a=d(!1),K=()=>{z.value=!0},U=()=>{z.value=!1,location.reload()},G=o=>{console.log(o),x.value=o,M.value=!0},H=()=>{M.value=!1},J=o=>{console.log(o),x.value=o,V.value=!0},Q=()=>{V.value=!1},S=async()=>{let o=await document.getElementsByClassName("color-td");for(let l=0;l<o.length;l++){const e=o[l];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","color:#4CAF50;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","color:#FF9800;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","color:#FF5722;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;")}console.log(typeof o[6].textContent)},W=()=>{window.print()},X=()=>{const o=(s,n)=>s.diagnosis_id-n.diagnosis_id,l=(s,n)=>n.diagnosis_id-s.diagnosis_id,e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,console.log(a),e.sort(l))},Y=()=>{const o=(s,n)=>s.test.localeCompare(n.test),l=(s,n)=>n.test.localeCompare(s.test),e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,e.sort(l))},Z=()=>{const o=(s,n)=>parseFloat(s.result)-parseFloat(n.result),l=(s,n)=>parseFloat(n.result)-parseFloat(s.result),e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,console.log(a),e.sort(l))},q=()=>{const o=(s,n)=>s.pi-n.pi,l=(s,n)=>n.pi-s.pi,e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,console.log(a),e.sort(l))},tt=()=>{const o=(s,n)=>s.ideal-n.ideal,l=(s,n)=>n.ideal-s.ideal,e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,console.log(a),e.sort(l))},et=()=>{const o=(s,n)=>s.pf-n.pf,l=(s,n)=>n.pf-s.pf,e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,console.log(a),e.sort(l))},st=()=>{const o=(s,n)=>s.interpretation.localeCompare(n.interpretation),l=(s,n)=>n.interpretation.localeCompare(s.interpretation),e=u.values;return a.value?(a.value=!1,e.sort(o)):(a.value=!0,e.sort(l))},A=()=>{if(p.value.length==0)f(1);else{const o=l=>h.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(l)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(l.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(l.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(l)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(l)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(l)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(l)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(l.toLowerCase())>-1);if(o(p.value).length>0)u.values=o(p.value),C.value=!1,k.value=u.values.length+" records found",g.value="";else{let l=[];u.values=l.values,C.value=!1,k.value="",g.value="No records found"}}},ot=()=>{y.value==!0?y.value=!1:y.value=!0},lt=o=>o==r.value?"active":"",m=()=>Math.ceil(h.values.length/b.value),f=async o=>{let l=[];if(u.values=l.values,p.value="",g.value="",k.value="",C.value=!0,r.value=o,u.values.length>0){let e=o*b.value-b.value,s=o*b.value;u.slice(e,s)}else{let e=o*b.value-b.value,s=o*b.value,n=h.values;u.values=n.slice(e,s)}},L=()=>{r.value>1&&r.value--,f(1)},$=()=>{r.value>1&&r.value--,f(r.value)},P=()=>{r.value<m()&&r.value++,f(r.value)},E=()=>{r.value<m()&&r.value++,f(m())};return(o,l)=>(i(),c("div",bt,[t("div",mt,[t("div",gt,[t("button",{onClick:l[0]||(l[0]=e=>o.$router.back()),class:"btn btn-success",type:"button"},"Salir")]),o.$route.params.name!==void 0?(i(),c("div",kt,[h.values.length===13?(i(),c("div",Ct,[t("i",yt,v(" "+o.$route.params.name+": ")+"Test Completo",1)])):(i(),c("div",xt,v(o.$route.params.name+`(${h.values.length} de 13)`),1)),t("div",wt,[t("div",Dt,[t("a",{onClick:K,type:"button",class:"col-1 icon-add",title:"Add diagnosis"},Mt),t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[Vt,t("input",{onClick:ot,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",Ft,[y.value==!0?(i(),c("form",{key:0,onKeyup:A},[t("div",St,[t("div",At,[Lt,N(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[O,p.value]])])])],32)):(i(),c("form",{key:1,onSubmit:at(A,["prevent"])},[t("div",$t,[Pt,t("div",Et,[k.value.length>0||g.value.length>0?(i(),c("button",{key:0,onClick:l[2]||(l[2]=e=>f(1)),type:"button",class:"btn-form cancel"}," Exit ")):(i(),c("button",Rt,"Exit"))]),t("div",Nt,[Ot,N(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[O,p.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:W,type:"button"},It)])])]),t("div",Tt,[t("table",jt,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",{hidden:""},[Kt,t("button",{onClick:X,class:"btn btn-sm th-font-size"},"Id")]),t("th",null,[Ut,t("button",{onClick:Y,class:"btn btn-sm th-font-size"},"Test")]),t("th",null,[Gt,t("button",{onClick:Z,class:"btn btn-sm th-font-size"},"Result")]),t("th",{hidden:""},[Ht,t("button",{onClick:q,class:"btn btn-sm th-font-size"},"Ri")]),t("th",{hidden:""},[Jt,t("button",{onClick:tt,class:"btn btn-sm th-font-size"},"Ideal")]),t("th",{hidden:""},[Qt,t("button",{onClick:et,class:"btn btn-sm th-font-size"},"Rf")]),t("th",null,[Wt,t("button",{onClick:st,class:"btn btn-sm th-font-size"}," Interpretation ")]),Xt])]),t("tbody",null,[(i(!0),c(B,null,I(w(u).values,e=>(i(),c("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",Yt,v(e.test),1),t("td",Zt,v(e.result),1),t("td",qt,v(e.interpretation),1),t("td",te,[T(w(ut),{to:"/diagnosis/detail/"+e.diagnosis_id,class:"btn btn-outline-info btn-sm",title:"Detail"},{default:rt(()=>[ee]),_:2},1032,["to"]),j(" | "),t("button",{onClick:s=>G(e.diagnosis_id),class:"btn btn-outline-warning btn-sm",title:"Edit"},le,8,se),j(" | "),t("button",{onClick:s=>J(e.diagnosis_id),class:"btn btn-outline-danger btn-sm",title:"Delete"},ae,8,ne)])]))),128))]),k.value.length>0?(i(),c("small",ce,v(k.value),1)):_("",!0),g.value.length>0?(i(),c("small",re,v(g.value),1)):_("",!0)])]),t("nav",{onClick:S,"aria-label":"Page navigation"},[C.value?(i(),c("ul",ue,[de,r.value>=2?(i(),c("li",{key:0,onClick:L,class:"page-item"},_e)):(i(),c("li",{key:1,onClick:L,class:"page-item disabled"},pe)),r.value>=2?(i(),c("li",{key:2,onClick:$,class:"page-item"},be)):(i(),c("li",{key:3,onClick:$,class:"page-item disabled"},ge)),(i(!0),c(B,null,I(m(),e=>(i(),c("li",{key:e,onClick:s=>f(e),class:dt(["page-item",lt(e)])},[r.value-1<e&&e<r.value+3?(i(),c("button",Ce,v(e),1)):_("",!0)],10,ke))),128)),r.value<m()?(i(),c("li",{key:4,onClick:P,class:"page-item"},[r.value<m()?(i(),c("button",ye,we)):_("",!0)])):(i(),c("li",{key:5,onClick:P,class:"page-item disabled"},ze)),r.value<m()?(i(),c("li",{key:6,onClick:E,class:"page-item"},Ve)):(i(),c("li",{key:7,onClick:E,class:"page-item disabled"},Se)),t("li",Ae,[t("button",Le,"Total: "+v(h.values.length),1)])])):_("",!0)]),T(_t)])):_("",!0),z.value?(i(),F(ht,{key:1,"close-form-add":U})):_("",!0),M.value?(i(),F(pt,{key:2,"close-form-edit":H,"edit-id":w(x)},null,8,["edit-id"])):_("",!0),V.value?(i(),F(ft,{key:3,"close-form-delete":Q,"delete-id":w(x)},null,8,["delete-id"])):_("",!0)])]))}});export{Ke as default};

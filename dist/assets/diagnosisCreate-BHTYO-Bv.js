import{d as w,r as p,o as D,b as n,e as r,f as t,g as O,w as u,v as b,t as _,i as d,y as h,F as C,h as I,u as L,l as f,s as R,x as S,z as F}from"./index-BMnRjAUB.js";import{g as M,b as V}from"./diagnosis-Ca66f_EQ.js";import{a as A,b as P}from"./diagnosis-C4PY9Q1y.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers.segment-Dc4JXg8Y.js";const l=m=>(R("data-v-3982c247"),m=m(),S(),m),B=l(()=>t("button",{type:"button",id:"formCreate",hidden:"",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}," Launch static backdrop modal ",-1)),G={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},z={class:"modal-dialog"},E={class:"modal-content"},H={class:"modal-header mt-1"},N=l(()=>t("div",{class:"card card-title"}," Crear Diagnosis ",-1)),K={class:"modal-body"},j={class:"card card-body"},q={class:"col-auto mt-1"},W=l(()=>t("label",{for:"patient"},"Paciente",-1)),$={key:0,class:"text-alert-error"},J={class:"col-auto mt-1"},Q=l(()=>t("label",{for:"Sex"},"Género",-1)),X=l(()=>t("option",{value:"M"},"M",-1)),Y=l(()=>t("option",{value:"F"},"F",-1)),Z=[X,Y],tt={class:"col-auto mt-1"},et=l(()=>t("label",{for:"test"},"Test",-1)),st=["value"],ot={key:0,class:"text-alert-error"},at={class:"col-auto mt-1"},lt=l(()=>t("label",{for:"result"},"Result",-1)),it={key:0,class:"text-alert-error"},nt={class:"col-auto mt-1"},rt=l(()=>t("label",{for:"condition"},"Condición",-1)),ct=l(()=>t("option",{value:"activo"},"Activo",-1)),dt=l(()=>t("option",{value:"inactivo"},"Inactivo",-1)),ut=[ct,dt],_t={class:"col-auto mt-1"},mt=l(()=>t("label",{for:"observation"},"Observación",-1)),pt={key:0,class:"text-alert-error"},vt={class:"modal-footer"},bt=l(()=>t("button",{type:"submit",class:"btn btn-save m-2"},"Crear",-1)),ht={key:0,class:"alert alert-success mt-2",role:"alert"},ft=l(()=>t("i",{class:"bi-check-circle-fill m-1"},null,-1)),gt={key:1,class:"alert alert-warning mt-2",role:"alert"},yt=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),Ct={key:2,class:"alert alert-danger mt-2"},xt=l(()=>t("i",{class:"bi-exclamation-triangle-fill m-1"},null,-1)),kt=w({__name:"diagnosisCreate",props:{title:{type:String,default:"Detalles"},closeFormCreate:{type:Function}},setup(m){const v=m,x=p([]),s=p({patient:"",sex:"F",test:"LDH/DHL",result:"0.0",condition:"activo",observation:""});let g=p(["LDH/DHL","GLUCOSA","COL. TOTAL","TRIGLICERIDOS","UREA","Co2","VCM","RDW ADE IDE","GGTP","TGO AST","TGP ALT","ACIDO URICO","HEMOGLOBINA"]);const c=p({validatePatient:"",validateResult:""}),i=p({success:"",warning:"",err:""});D(async()=>{await T(),y(),console.log(g);let e=document.getElementById("formCreate");e==null||e.click()});const y=async()=>{c.validatePatient=await A(s.patient),c.validateResult=await P(s.result)},k=async()=>{try{let e=await V(s);(e==null?void 0:e.statusText)==="Created"&&(i.success=e.data.Message,i.err="",setTimeout(async()=>{i.success="",await F.replace(`/diagnosis/${e.data.results.patient}`),location.reload()},1500))}catch(e){i.success="",i.err=e.response.data.Message,console.log(e.response.data.Message)}},T=async()=>{const e=await M();(e==null?void 0:e.statusText)=="OK"&&(x.values=e==null?void 0:e.data.results,console.log(e==null?void 0:e.data.results))};return(e,a)=>(n(),r(C,null,[B,t("div",G,[t("div",z,[t("div",E,[t("div",H,[N,t("button",{type:"button",onClick:a[0]||(a[0]=(...o)=>v.closeFormCreate&&v.closeFormCreate(...o)),class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]),t("div",K,[t("form",{onSubmit:O(k,["prevent"]),onKeyup:y},[t("div",j,[t("div",q,[W,u(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.patient=o),type:"text",class:"form-control input-size",id:"patient"},null,512),[[b,s.patient]]),c.validatePatient!==""&&c.validatePatient!=="Opcional"?(n(),r("small",$,_(c.validatePatient),1)):d("",!0)]),t("div",J,[Q,u(t("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>s.sex=o),class:"form-select select-size",id:"Sex"},Z,512),[[h,s.sex]])]),t("div",tt,[et,u(t("select",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.test=o),class:"form-select select-size",id:"test"},[(n(!0),r(C,null,I(L(g),o=>(n(),r("option",{key:o,value:o},_(o),9,st))),128))],512),[[h,s.test]]),s.test===""||s.test.length===0||s.test===void 0?(n(),r("small",ot," Requerido ")):d("",!0)]),t("div",at,[lt,u(t("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>s.result=o),type:"text",class:"form-control input-size",id:"result"},null,512),[[b,s.result]]),c.validateResult!==""&&c.validateResult!=="Opcional"?(n(),r("small",it,_(c.validateResult),1)):d("",!0)]),t("div",nt,[rt,u(t("select",{"onUpdate:modelValue":a[5]||(a[5]=o=>s.condition=o),class:"form-select select-size",id:"condition"},ut,512),[[h,s.condition]])]),t("div",_t,[mt,u(t("textarea",{"onUpdate:modelValue":a[6]||(a[6]=o=>s.observation=o),type:"text",class:"form-control input-size",id:"observation",placeholder:""},null,512),[[b,s.observation]]),s.observation!==null&&s.observation.length>2083?(n(),r("small",pt," No se aceptan mas caracteres ")):d("",!0)])]),t("footer",vt,[bt,t("button",{onClick:a[7]||(a[7]=(...o)=>v.closeFormCreate&&v.closeFormCreate(...o)),class:"btn btn-light","data-bs-dismiss":"modal"}," Cancelar ")])],32),i.success.length>0?(n(),r("p",ht,[ft,f(_(i.success),1)])):d("",!0),i.warning.length>0?(n(),r("p",gt,[yt,f(_(i.warning),1)])):d("",!0),i.err.length>0?(n(),r("p",Ct,[xt,f(_(i.err),1)])):d("",!0)])])])])],64))}}),Lt=U(kt,[["__scopeId","data-v-3982c247"]]);export{Lt as default};

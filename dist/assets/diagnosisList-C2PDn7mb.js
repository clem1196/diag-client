import{d as J,o as Q,r as I,a as d,b as i,c,e as t,f as P,w as W,g as A,v as O,F as R,h as B,u as z,t as _,i as m,j as E,k as T,l as Y,R as Z,p as ht,m as pt,n as ft}from"./index-Dz4zMu1K.js";import{g as q}from"./diagnosis-Ca66f_EQ.js";import tt from"./diagnosisCreate-D0V9DMMA.js";import{_ as bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as mt}from"./diagnosisDelete.vue_vue_type_script_setup_true_lang-BD3AGnSc.js";import{_ as gt}from"./diagnosisEdit.vue_vue_type_script_setup_true_lang-iYiepxr7.js";import"./diagnosis-BtezdwiJ.js";import"./helpers.segment-Dc4JXg8Y.js";const F=S=>(ht("data-v-722709f0"),S=S(),pt(),S),Ct={class:"container-fluid"},kt={class:"card card-search1"},yt={class:"row row-search"},xt=F(()=>t("i",{class:"bi-plus-square-fill"},null,-1)),wt={class:"col-auto"},Dt={class:"row"},Mt=F(()=>t("div",{class:"col-auto mt-2"},"Pacientes",-1)),$t={class:"col-auto"},Vt=F(()=>t("i",{class:"bi-search"},null,-1)),zt=F(()=>t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn btn-light btn-sm"},"Buscar")],-1)),St={class:"col-1"},Lt={key:1,hidden:"",type:"button",class:"btn btn-light btn-sm"},Ft={class:"scale-table"},Et={class:"table table-hover text-center"},It=F(()=>t("thead",null,[t("tr",{class:"thead-tr"},[t("th")])],-1)),Pt={key:0,class:"text-success"},Nt={key:1,class:"text-danger"},At=J({__name:"diagnosisPatientList",props:{title:{type:String,default:"Pacientes"}},setup(S){Q(async()=>{const o=await q();(o==null?void 0:o.statusText)=="OK"&&(b.values=o.data.patients),b.length>0&&k(r.value)});const b=I([]),r=d(1),h=d(),y=d(!0),x=d(!1);let u=I([]);const v=d(""),g=d(""),C=d(""),L=()=>{x.value=!0},V=()=>{x.value=!1},w=()=>{if(b.values.length>0)if(v.value.length===0)k(1);else{const o=f=>b.values.filter(M=>M.patient.toLowerCase()===f.toLowerCase());if(o(v.value).length>0)u.values=o(v.value),y.value=!1,C.value=u.values.length+" records found",g.value="";else{let f=[];u.values=f.values,y.value=!1,C.value="",g.value='No se encontró, ningun registro para "'+v.value+'" vuelva a intentar'}}},k=async o=>{let f=[];if(u.values=f.values,v.value="",g.value="",C.value="",y.value=!0,r.value=o,u.values.length>0){let p=o*h.value-h.value,M=o*h.value;u.slice(p,M)}else{let p=o*h.value-h.value,M=o*h.value,N=b.values;u.values=N.slice(p,M)}};return(o,f)=>(i(),c("div",Ct,[t("div",null,[t("div",kt,[t("div",yt,[t("div",{class:"col-auto"},[t("a",{onClick:L,title:"Create diagnosis",type:"button"},[P(" No tiene aún? crea Aquí"),xt])]),t("div",wt,[t("form",{onSubmit:W(w,["prevent"])},[t("div",Dt,[Mt,t("div",$t,[Vt,A(t("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>v.value=p),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[O,v.value]])]),zt,t("div",St,[C.value.length>0||g.value.length>0?(i(),c("button",{key:0,onClick:f[1]||(f[1]=p=>k(1)),type:"button",class:"btn btn-light btn-sm"}," X ")):(i(),c("button",Lt,"x"))])])],32)])])]),t("div",Ft,[t("table",Et,[It,t("tbody",null,[(i(!0),c(R,null,B(z(u).values,p=>(i(),c("tr",{key:p.diagnosis_id,class:"tbody-tr"},[t("td",null,[T(z(Z),{class:"td-decoration",to:"/diagnosis/"+p.patient,title:"Detail"},{default:Y(()=>[P(_(p.patient),1)]),_:2},1032,["to"])])]))),128))]),C.value.length>0?(i(),c("small",Pt,_(C.value),1)):m("",!0),g.value.length>0?(i(),c("small",Nt,_(g.value),1)):m("",!0)])]),x.value?(i(),E(tt,{key:0,"close-form-create":V})):m("",!0)])]))}}),Ot=bt(At,[["__scopeId","data-v-722709f0"]]),Rt={class:"container"},Bt={class:"card mt-3 p-3"},Tt=t("div",{class:"card card-title"},"Diagnosis",-1),jt={hidden:""},Kt={class:"card card-search"},Ut={class:"row row-search"},Xt=t("i",{class:"bi-person-fill-add"},null,-1),Gt=[Xt],Ht=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),Jt={class:"col-auto"},Qt={class:"row m-2"},Wt={class:"col-auto"},Yt=t("i",{class:"bi-search"},null,-1),Zt={class:"row"},qt=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),te={class:"col-auto"},ee={key:1,disabled:"",type:"button",class:"btn-form"},se={class:"col-auto mt-1"},le=t("i",{class:"bi-search"},null,-1),oe=t("i",{class:"bi-printer"},null,-1),ne=[oe],ae={class:"scale-table"},ie={class:"table table-hover text-center"},ce=t("i",{class:"bi-filter"},null,-1),ue=t("i",{class:"bi-filter"},null,-1),re=t("i",{class:"bi-filter"},null,-1),de=t("i",{class:"bi-filter"},null,-1),ve=t("i",{class:"bi-filter"},null,-1),_e=t("i",{class:"bi-filter"},null,-1),he=t("i",{class:"bi-filter"},null,-1),pe=t("i",{class:"bi-filter"},null,-1),fe=t("th",null,[t("button",{class:"btn btn-sm th-font-size"},"Action")],-1),be={class:"color-td"},me={class:"color-td"},ge={class:"color-td"},Ce={class:"color-td"},ke={class:"color-td"},ye={class:"color-td"},xe={class:"color-td"},we={class:"color-td"},De={class:"colorBarra"},Me=t("i",{class:"bi-card-checklist"},null,-1),$e=["onClick"],Ve=t("i",{class:"bi-pencil-fill"},null,-1),ze=[Ve],Se=["onClick"],Le=t("i",{class:"bi-trash-fill"},null,-1),Fe=[Le],Ee={key:0,class:"text-success"},Ie={key:1,class:"text-danger"},Pe={key:0,class:"pagination justify-content-center"},Ne=t("li",{class:"page-item disabled"},[t("button",{class:"page-link size"},"Pages")],-1),Ae=t("button",{type:"button",class:"page-link size"},"First",-1),Oe=[Ae],Re=t("button",{type:"button",class:"page-link size"},"First",-1),Be=[Re],Te=t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1),je=[Te],Ke=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1),Ue=[Ke],Xe=["onClick"],Ge={key:0,type:"button",class:"page-link size"},He={key:0,type:"button",class:"page-link size"},Je=t("i",{class:"bi-chevron-right"},null,-1),Qe=[Je],We=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1),Ye=[We],Ze=t("button",{type:"button",class:"page-link size"},"Last",-1),qe=[Ze],ts=t("button",{type:"button",class:"page-link size"},"Last",-1),es=[ts],ss={class:"page-item disabled"},ls={class:"page-link size"},vs=J({__name:"diagnosisList",props:{title:{type:String,default:"Detalles"}},setup(S){Q(async()=>{const l=await q();(l==null?void 0:l.statusText)=="OK"&&(b.values=l==null?void 0:l.data.results,console.log(l==null?void 0:l.data.results)),D(r.value),j()});const b=I([]),r=d(1),h=d(3),y=d(!0),x=d(!0);let u=I([]);const v=d(""),g=d(!1),C=d(!1),L=d(!1);let V=d(0);const w=d(""),k=d(""),o=d(!1),f=()=>{g.value=!0},p=()=>{g.value=!1},M=l=>{console.log(l),V.value=l,C.value=!0},N=()=>{C.value=!1},et=l=>{console.log(l),V.value=l,L.value=!0},st=()=>{L.value=!1},j=async()=>{let l=await document.getElementsByClassName("color-td");for(let n=0;n<l.length;n++){const e=l[n];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","color:#4CAF50;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","color:#FF9800;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","color:#FF5722;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;")}console.log(typeof l[6].textContent)},lt=()=>{window.print()},ot=()=>{const l=(s,a)=>s.diagnosis_id-a.diagnosis_id,n=(s,a)=>a.diagnosis_id-s.diagnosis_id,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},nt=()=>{const l=(s,a)=>s.patient.localeCompare(a.patient),n=(s,a)=>a.patient.localeCompare(s.patient),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},at=()=>{const l=(s,a)=>s.test.localeCompare(a.test),n=(s,a)=>a.test.localeCompare(s.test),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},it=()=>{const l=(s,a)=>parseFloat(s.result)-parseFloat(a.result),n=(s,a)=>parseFloat(a.result)-parseFloat(s.result),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},ct=()=>{const l=(s,a)=>s.pi-a.pi,n=(s,a)=>a.pi-s.pi,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},ut=()=>{const l=(s,a)=>s.ideal-a.ideal,n=(s,a)=>a.ideal-s.ideal,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},rt=()=>{const l=(s,a)=>s.pf-a.pf,n=(s,a)=>a.pf-s.pf,e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,console.log(o),e.sort(n))},dt=()=>{const l=(s,a)=>s.interpretation.localeCompare(a.interpretation),n=(s,a)=>a.interpretation.localeCompare(s.interpretation),e=u.values;return o.value?(o.value=!1,e.sort(l)):(o.value=!0,e.sort(n))},K=()=>{if(v.value.length==0)D(1);else{const l=n=>b.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(n)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(n.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(n.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(n)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(n)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(n)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(n)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(n.toLowerCase())>-1);if(l(v.value).length>0)u.values=l(v.value),y.value=!1,k.value=u.values.length+" records found",w.value="";else{let n=[];u.values=n.values,y.value=!1,k.value="",w.value="No records found"}}},vt=()=>{x.value==!0?x.value=!1:x.value=!0},_t=l=>l==r.value?"active":"",$=()=>Math.ceil(b.values.length/h.value),D=async l=>{let n=[];if(u.values=n.values,v.value="",w.value="",k.value="",y.value=!0,r.value=l,u.values.length>0){let e=l*h.value-h.value,s=l*h.value;u.slice(e,s)}else{let e=l*h.value-h.value,s=l*h.value,a=b.values;u.values=a.slice(e,s)}},U=()=>{r.value>1&&r.value--,D(1)},X=()=>{r.value>1&&r.value--,D(r.value)},G=()=>{r.value<$()&&r.value++,D(r.value)},H=()=>{r.value<$()&&r.value++,D($())};return(l,n)=>(i(),c("div",Rt,[t("div",Bt,[Tt,T(Ot),t("div",jt,[t("div",Kt,[t("div",Ut,[t("a",{onClick:f,type:"button",class:"col-1 icon-add",title:"Create diagnosis"},Gt),t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[Ht,t("input",{onClick:vt,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",Jt,[x.value==!0?(i(),c("form",{key:0,onKeyup:K},[t("div",Qt,[t("div",Wt,[Yt,A(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>v.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[O,v.value]])])])],32)):(i(),c("form",{key:1,onSubmit:W(K,["prevent"])},[t("div",Zt,[qt,t("div",te,[k.value.length>0||w.value.length>0?(i(),c("button",{key:0,onClick:n[1]||(n[1]=e=>D(1)),type:"button",class:"btn-form cancel"}," Exit ")):(i(),c("button",ee,"Exit"))]),t("div",se,[le,A(t("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>v.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[O,v.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:lt,type:"button"},ne)])])]),t("div",ae,[t("table",ie,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",null,[ce,t("button",{onClick:ot,class:"btn btn-sm th-font-size"},"Id")]),t("th",null,[ue,t("button",{onClick:nt,class:"btn btn-sm th-font-size"},"FullName")]),t("th",null,[re,t("button",{onClick:at,class:"btn btn-sm th-font-size"},"Test")]),t("th",null,[de,t("button",{onClick:it,class:"btn btn-sm th-font-size"},"Result")]),t("th",null,[ve,t("button",{onClick:ct,class:"btn btn-sm th-font-size"},"Ri")]),t("th",null,[_e,t("button",{onClick:ut,class:"btn btn-sm th-font-size"},"Ideal")]),t("th",null,[he,t("button",{onClick:rt,class:"btn btn-sm th-font-size"},"Rf")]),t("th",null,[pe,t("button",{onClick:dt,class:"btn btn-sm th-font-size"}," Interpretation ")]),fe])]),t("tbody",null,[(i(!0),c(R,null,B(z(u).values,e=>(i(),c("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",be,_(e.diagnosis_id),1),t("td",me,_(e.patient),1),t("td",ge,_(e.test),1),t("td",Ce,_(e.result),1),t("td",ke,_(e.pi),1),t("td",ye,_(e.ideal),1),t("td",xe,_(e.pf),1),t("td",we,_(e.interpretation),1),t("td",De,[T(z(Z),{to:"/diagnosis/detail/"+e.diagnosis_id,class:"btn btn-outline-info btn-sm",title:"Detail"},{default:Y(()=>[Me]),_:2},1032,["to"]),P(" | "),t("button",{onClick:s=>M(e.diagnosis_id),class:"btn btn-outline-warning btn-sm",title:"Edit"},ze,8,$e),P(" | "),t("button",{onClick:s=>et(e.diagnosis_id),class:"btn btn-outline-danger btn-sm",title:"Delete"},Fe,8,Se)])]))),128))]),k.value.length>0?(i(),c("small",Ee,_(k.value),1)):m("",!0),w.value.length>0?(i(),c("small",Ie,_(w.value),1)):m("",!0)])]),t("nav",{onClick:j,"aria-label":"Page navigation"},[y.value?(i(),c("ul",Pe,[Ne,r.value>=2?(i(),c("li",{key:0,onClick:U,class:"page-item"},Oe)):(i(),c("li",{key:1,onClick:U,class:"page-item disabled"},Be)),r.value>=2?(i(),c("li",{key:2,onClick:X,class:"page-item"},je)):(i(),c("li",{key:3,onClick:X,class:"page-item disabled"},Ue)),(i(!0),c(R,null,B($(),e=>(i(),c("li",{key:e,onClick:s=>D(e),class:ft(["page-item",_t(e)])},[r.value-1<e&&e<r.value+3?(i(),c("button",Ge,_(e),1)):m("",!0)],10,Xe))),128)),r.value<$()?(i(),c("li",{key:4,onClick:G,class:"page-item"},[r.value<$()?(i(),c("button",He,Qe)):m("",!0)])):(i(),c("li",{key:5,onClick:G,class:"page-item disabled"},Ye)),r.value<$()?(i(),c("li",{key:6,onClick:H,class:"page-item"},qe)):(i(),c("li",{key:7,onClick:H,class:"page-item disabled"},es)),t("li",ss,[t("button",ls,"Total: "+_(b.values.length),1)])])):m("",!0)])])]),g.value?(i(),E(tt,{key:0,"close-form-create":p})):m("",!0),C.value?(i(),E(gt,{key:1,"close-form-edit":N,"edit-id":z(V)},null,8,["edit-id"])):m("",!0),L.value?(i(),E(mt,{key:2,"close-form-delete":st,"delete-id":z(V)},null,8,["delete-id"])):m("",!0)]))}});export{vs as default};

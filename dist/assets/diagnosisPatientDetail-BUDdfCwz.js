import{d as q,o as tt,r as N,a as _,b as a,e as c,f as t,t as d,w as O,v as E,g as et,F as I,h as B,u as x,i as m,j as w,m as st,n as ot,k as V,R as F,l as T,p as lt}from"./index-CCETXx4L.js";import{g as nt}from"./diagnosis-Ca66f_EQ.js";import it from"./diagnosisGraphics-Dyy75d7i.js";import{_ as at}from"./diagnosisAdd.vue_vue_type_script_setup_true_lang-BBVuxOI7.js";import"./helpers.segment-Dc4JXg8Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./diagnosis-OtAIOZ42.js";const ct={class:"container-fluid"},rt={key:0},ut={key:0,class:"card card-title"},dt={class:"bi-check-circle-fill text-success"},_t={key:1,class:"card card-title"},vt={class:"card card-search"},ht={class:"row row-search"},pt=t("i",{class:"bi-person-fill-add"},null,-1),ft=[pt],bt=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),mt={class:"col-auto"},gt={class:"row m-2"},kt={class:"col-auto"},Ct=t("i",{class:"bi-search"},null,-1),yt={class:"row"},xt=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),wt={class:"col-auto"},zt={key:1,disabled:"",type:"button",class:"btn-form"},Dt={class:"col-auto mt-1"},Vt=t("i",{class:"bi-search"},null,-1),Ft=t("i",{class:"bi-printer"},null,-1),Mt=[Ft],Lt={class:"scale-table"},St={class:"table table-hover text-center"},Pt=t("i",{class:"bi-filter"},null,-1),Rt=t("i",{class:"bi-filter"},null,-1),At=t("i",{class:"bi-filter"},null,-1),Nt=t("i",{class:"bi-filter"},null,-1),Ot=t("i",{class:"bi-filter"},null,-1),Et=t("i",{class:"bi-filter"},null,-1),It=t("i",{class:"bi-filter"},null,-1),Bt=t("th",null,[t("button",{class:"btn btn-sm th-font-size"},"Action")],-1),Tt={class:"color-td"},$t={class:"color-td"},jt={class:"color-td"},Kt={class:"color-td"},Ut={class:"color-td"},Gt={class:"color-td"},Ht={class:"color-td"},Jt=t("i",{class:"bi-card-checklist size-checklist"},null,-1),Qt=t("i",{class:"bi-pencil-fill size-pencil"},null,-1),Wt=t("i",{class:"bi-trash-fill size-trash"},null,-1),Xt={key:0,class:"text-success"},Yt={key:1,class:"text-danger"},Zt={key:0,class:"pagination justify-content-center"},qt=t("li",{class:"page-item disabled"},[t("button",{class:"page-link size"},"Pages")],-1),te=t("button",{type:"button",class:"page-link size"},"First",-1),ee=[te],se=t("button",{type:"button",class:"page-link size"},"First",-1),oe=[se],le=t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1),ne=[le],ie=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1),ae=[ie],ce=["onClick"],re={key:0,type:"button",class:"page-link size"},ue={key:0,type:"button",class:"page-link size"},de=t("i",{class:"bi-chevron-right"},null,-1),_e=[de],ve=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1),he=[ve],pe=t("button",{type:"button",class:"page-link size"},"Last",-1),fe=[pe],be=t("button",{type:"button",class:"page-link size"},"Last",-1),me=[be],ge={class:"page-item disabled"},ke={class:"page-link size"},Me=q({__name:"diagnosisPatientDetail",props:{title:{type:String,default:"Detalles"}},setup(Ce){const z=ot();tt(async()=>{if(z.params.name!==void 0){const o=await nt();if((o==null?void 0:o.statusText)=="OK"){console.log(z.params.name);let l=await(o==null?void 0:o.data.results.filter(e=>e.patient===z.params.name));v.values=l}console.log(v),p(r.value),M()}});const v=N([]),r=_(1),f=_(3),C=_(!0),y=_(!0);let u=N([]);const h=_(""),D=_(!1),g=_(""),k=_(""),i=_(!1),$=()=>{D.value=!0},j=()=>{D.value=!1,location.reload()},M=async()=>{let o=await document.getElementsByClassName("color-td");for(let l=0;l<o.length;l++){const e=o[l];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","background-color: #4CAF50; color:white;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","background-color: #FF9800; color:white;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","background-color: #FF5722; color:white;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","background-color: #CDDC39 ; color:white;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","background-color: #CDDC39 ; color:white;")}console.log(typeof o[6].textContent)},K=()=>{window.print()},U=()=>{const o=(s,n)=>s.diagnosis_id-n.diagnosis_id,l=(s,n)=>n.diagnosis_id-s.diagnosis_id,e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},G=()=>{const o=(s,n)=>s.test.localeCompare(n.test),l=(s,n)=>n.test.localeCompare(s.test),e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,e.sort(l))},H=()=>{const o=(s,n)=>parseFloat(s.result)-parseFloat(n.result),l=(s,n)=>parseFloat(n.result)-parseFloat(s.result),e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},J=()=>{const o=(s,n)=>s.pi-n.pi,l=(s,n)=>n.pi-s.pi,e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},Q=()=>{const o=(s,n)=>s.ideal-n.ideal,l=(s,n)=>n.ideal-s.ideal,e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},W=()=>{const o=(s,n)=>s.pf-n.pf,l=(s,n)=>n.pf-s.pf,e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},X=()=>{const o=(s,n)=>s.interpretation.localeCompare(n.interpretation),l=(s,n)=>n.interpretation.localeCompare(s.interpretation),e=u.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,e.sort(l))},L=()=>{if(h.value.length==0)p(1);else{const o=l=>v.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(l)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(l.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(l.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(l)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(l)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(l)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(l)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(l.toLowerCase())>-1);if(o(h.value).length>0)u.values=o(h.value),C.value=!1,k.value=u.values.length+" records found",g.value="";else{let l=[];u.values=l.values,C.value=!1,k.value="",g.value="No records found"}}},Y=()=>{y.value==!0?y.value=!1:y.value=!0},Z=o=>o==r.value?"active":"",b=()=>Math.ceil(v.values.length/f.value),p=async o=>{let l=[];if(u.values=l.values,h.value="",g.value="",k.value="",C.value=!0,r.value=o,u.values.length>0){let e=o*f.value-f.value,s=o*f.value;u.slice(e,s)}else{let e=o*f.value-f.value,s=o*f.value,n=v.values;u.values=n.slice(e,s)}},S=()=>{r.value>1&&r.value--,p(1)},P=()=>{r.value>1&&r.value--,p(r.value)},R=()=>{r.value<b()&&r.value++,p(r.value)},A=()=>{r.value<b()&&r.value++,p(b())};return(o,l)=>(a(),c("div",ct,[o.$route.params.name!==void 0?(a(),c("div",rt,[v.values.length===13?(a(),c("div",ut,[t("i",dt,d(o.$route.params.name+": ")+"Test Completo",1)])):(a(),c("div",_t,d(o.$route.params.name+`(${v.values.length} de 13)`),1)),t("div",vt,[t("div",ht,[t("a",{onClick:$,type:"button",class:"col-1 icon-add",title:"Create diagnosis"},ft),t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[bt,t("input",{onClick:Y,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",mt,[y.value==!0?(a(),c("form",{key:0,onKeyup:L},[t("div",gt,[t("div",kt,[Ct,O(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>h.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[E,h.value]])])])],32)):(a(),c("form",{key:1,onSubmit:et(L,["prevent"])},[t("div",yt,[xt,t("div",wt,[k.value.length>0||g.value.length>0?(a(),c("button",{key:0,onClick:l[1]||(l[1]=e=>p(1)),type:"button",class:"btn-form cancel"}," Exit ")):(a(),c("button",zt," Exit "))]),t("div",Dt,[Vt,O(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>h.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[E,h.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:K,type:"button"},Mt)])])]),t("div",Lt,[t("table",St,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",null,[Pt,t("button",{onClick:U,class:"btn btn-sm th-font-size"}," Id ")]),t("th",null,[Rt,t("button",{onClick:G,class:"btn btn-sm th-font-size"}," Test ")]),t("th",null,[At,t("button",{onClick:H,class:"btn btn-sm th-font-size"}," Result ")]),t("th",null,[Nt,t("button",{onClick:J,class:"btn btn-sm th-font-size"}," Ri ")]),t("th",null,[Ot,t("button",{onClick:Q,class:"btn btn-sm th-font-size"}," Ideal ")]),t("th",null,[Et,t("button",{onClick:W,class:"btn btn-sm th-font-size"}," Rf ")]),t("th",null,[It,t("button",{onClick:X,class:"btn btn-sm th-font-size"}," Interpretation ")]),Bt])]),t("tbody",null,[(a(!0),c(I,null,B(x(u).values,e=>(a(),c("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",Tt,d(e.diagnosis_id),1),t("td",$t,d(e.test),1),t("td",jt,d(e.result),1),t("td",Kt,d(e.pi),1),t("td",Ut,d(e.ideal),1),t("td",Gt,d(e.pf),1),t("td",Ht,d(e.interpretation),1),t("td",null,[w(x(F),{to:"/diagnosis/detail/"+e.diagnosis_id,title:"Detail"},{default:V(()=>[Jt]),_:2},1032,["to"]),T(" | "),w(x(F),{to:"/diagnosis/edit/"+e.diagnosis_id,title:"Edit"},{default:V(()=>[Qt]),_:2},1032,["to"]),T(" | "),w(x(F),{to:"/diagnosis/delete/"+e.diagnosis_id,title:"Delete"},{default:V(()=>[Wt]),_:2},1032,["to"])])]))),128))]),k.value.length>0?(a(),c("small",Xt,d(k.value),1)):m("",!0),g.value.length>0?(a(),c("small",Yt,d(g.value),1)):m("",!0)])]),t("nav",{onClick:M,"aria-label":"Page navigation"},[C.value?(a(),c("ul",Zt,[qt,r.value>=2?(a(),c("li",{key:0,onClick:S,class:"page-item"},ee)):(a(),c("li",{key:1,onClick:S,class:"page-item disabled"},oe)),r.value>=2?(a(),c("li",{key:2,onClick:P,class:"page-item"},ne)):(a(),c("li",{key:3,onClick:P,class:"page-item disabled"},ae)),(a(!0),c(I,null,B(b(),e=>(a(),c("li",{key:e,onClick:s=>p(e),class:lt(["page-item",Z(e)])},[r.value-1<e&&e<r.value+3?(a(),c("button",re,d(e),1)):m("",!0)],10,ce))),128)),r.value<b()?(a(),c("li",{key:4,onClick:R,class:"page-item"},[r.value<b()?(a(),c("button",ue,_e)):m("",!0)])):(a(),c("li",{key:5,onClick:R,class:"page-item disabled"},he)),r.value<b()?(a(),c("li",{key:6,onClick:A,class:"page-item"},fe)):(a(),c("li",{key:7,onClick:A,class:"page-item disabled"},me)),t("li",ge,[t("button",ke," Total: "+d(v.values.length),1)])])):m("",!0)]),w(it)])):m("",!0),D.value?(a(),st(at,{key:1,"close-form-add":j})):m("",!0)]))}});export{Me as default};

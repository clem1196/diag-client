import{d as H,o as J,r as P,a as h,b as i,e as c,f as t,t as _,w as E,v as N,g as Q,F as R,h as A,u as V,i as $,j as S,k as F,l as I,R as L,m as ot,n as nt}from"./index-CyhpGcIp.js";import{g as W}from"./diagnosis-Ca66f_EQ.js";import at from"./diagnosisCreate-Cm0rah7a.js";import"./diagnosis-B5YQzqkE.js";import"./helpers.segment-Dc4JXg8Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const it={class:"container-fluid"},ct={class:"card card-title"},ut={class:"card card-search"},rt={class:"row row-search"},dt=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),vt={class:"col-auto"},_t={class:"row m-2"},ht={class:"col-auto"},pt=t("i",{class:"bi-search"},null,-1),ft={class:"row"},bt=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),mt={class:"col-auto"},gt={key:1,disabled:"",type:"button",class:"btn-form"},kt={class:"col-auto mt-1"},yt=t("i",{class:"bi-search"},null,-1),Ct=t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{type:"button"},[t("i",{class:"bi-printer"})])],-1),xt={class:"scale-table"},wt={class:"table table-hover text-center"},Dt=t("thead",null,[t("tr",{class:"thead-tr"},[t("th")])],-1),$t={key:0,class:"text-success"},zt={key:1,class:"text-danger"},Vt=H({__name:"diagnosisPatientList",props:{title:{type:String,default:"Pacientes"}},setup(T){J(async()=>{const v=await W();(v==null?void 0:v.statusText)=="OK"&&(console.log(v.data.patients),b.values=v.data.patients),console.log(b.values),b.length>0&&M(r.value)});const b=P([]),r=h(1),m=h(),x=h(!0),y=h(!0);let u=P([]);const d=h(""),k=h(""),g=h(""),w=()=>{y.value==!0?y.value=!1:y.value=!0},a=()=>{if(console.log(b.values),b.values.length>0)if(d.value.length==0&&b.values.length>0)M(1);else{const v=p=>b.values.filter(C=>C.patient!==null&&C.patient!==void 0&&C.patient.toLowerCase().indexOf(p.toLowerCase())>-1);if(v(d.value).length>0)u.values=v(d.value),x.value=!1,g.value=u.values.length+" records found",k.value="";else{let p=[];u.values=p.values,x.value=!1,g.value="",k.value="No records found"}}},M=async v=>{let p=[];if(u.values=p.values,d.value="",k.value="",g.value="",x.value=!0,r.value=v,u.values.length>0){let f=v*m.value-m.value,C=v*m.value;u.slice(f,C)}else{let f=v*m.value-m.value,C=v*m.value,O=b.values;u.values=O.slice(f,C)}};return(v,p)=>(i(),c("div",it,[t("div",ct,_(T.title),1),t("div",null,[t("div",ut,[t("div",rt,[t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[dt,t("input",{onClick:w,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",vt,[y.value==!0?(i(),c("form",{key:0,onKeyup:a},[t("div",_t,[t("div",ht,[pt,E(t("input",{"onUpdate:modelValue":p[0]||(p[0]=f=>d.value=f),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[N,d.value]])])])],32)):(i(),c("form",{key:1,onSubmit:Q(a,["prevent"])},[t("div",ft,[bt,t("div",mt,[g.value.length>0||k.value.length>0?(i(),c("button",{key:0,onClick:p[1]||(p[1]=f=>M(1)),type:"button",class:"btn-form cancel"}," Exit ")):(i(),c("button",gt,"Exit"))]),t("div",kt,[yt,E(t("input",{"onUpdate:modelValue":p[2]||(p[2]=f=>d.value=f),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[N,d.value]])])])],32))]),Ct])]),t("div",xt,[t("table",wt,[Dt,t("tbody",null,[(i(!0),c(R,null,A(V(u).values,f=>(i(),c("tr",{key:f.diagnosis_id,class:"tbody-tr"},[t("td",null,[S(V(L),{class:"td-decoration",to:"/diagnosis/"+f.patient,title:"Detail"},{default:F(()=>[I(_(f.patient),1)]),_:2},1032,["to"])])]))),128))]),g.value.length>0?(i(),c("small",$t,_(g.value),1)):$("",!0),k.value.length>0?(i(),c("small",zt,_(k.value),1)):$("",!0)])])])]))}}),Mt={class:"container-fluid"},St=t("div",{class:"card card-title"},"Diagnosis",-1),Ft={class:"card card-search"},Lt={class:"row row-search"},Pt=t("i",{class:"bi-person-fill-add"},null,-1),Et=[Pt],Nt=t("label",{class:"form-check-label",for:"switDiagnosisPatient"},null,-1),Ot={class:"col-auto"},Rt={class:"row m-2"},At={class:"col-auto"},It=t("i",{class:"bi-search"},null,-1),Tt={class:"row"},Bt=t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1),Kt={class:"col-auto"},Ut={key:1,disabled:"",type:"button",class:"btn-form"},jt={class:"col-auto mt-1"},Gt=t("i",{class:"bi-search"},null,-1),Ht=t("i",{class:"bi-printer"},null,-1),Jt=[Ht],Qt={class:"scale-table"},Wt={class:"table table-hover text-center"},Xt=t("i",{class:"bi-filter"},null,-1),Yt=t("i",{class:"bi-filter"},null,-1),Zt=t("i",{class:"bi-filter"},null,-1),qt=t("i",{class:"bi-filter"},null,-1),te=t("i",{class:"bi-filter"},null,-1),ee=t("i",{class:"bi-filter"},null,-1),se=t("i",{class:"bi-filter"},null,-1),le=t("i",{class:"bi-filter"},null,-1),oe=t("th",null,[t("button",{class:"btn btn-sm th-font-size"},"Action")],-1),ne={class:"color-td"},ae={class:"color-td"},ie={class:"color-td"},ce={class:"color-td"},ue={class:"color-td"},re={class:"color-td"},de={class:"color-td"},ve={class:"color-td"},_e=t("i",{class:"bi-card-checklist size-checklist"},null,-1),he=t("i",{class:"bi-pencil-fill size-pencil"},null,-1),pe=t("i",{class:"bi-trash-fill size-trash"},null,-1),fe={key:0,class:"text-success"},be={key:1,class:"text-danger"},me={key:0,class:"pagination justify-content-center"},ge=t("li",{class:"page-item disabled"},[t("button",{class:"page-link size"},"Pages")],-1),ke=t("button",{type:"button",class:"page-link size"},"First",-1),ye=[ke],Ce=t("button",{type:"button",class:"page-link size"},"First",-1),xe=[Ce],we=t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1),De=[we],$e=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1),ze=[$e],Ve=["onClick"],Me={key:0,type:"button",class:"page-link size"},Se={key:0,type:"button",class:"page-link size"},Fe=t("i",{class:"bi-chevron-right"},null,-1),Le=[Fe],Pe=t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1),Ee=[Pe],Ne=t("button",{type:"button",class:"page-link size"},"Last",-1),Oe=[Ne],Re=t("button",{type:"button",class:"page-link size"},"Last",-1),Ae=[Re],Ie={class:"page-item disabled"},Te={class:"page-link size"},Je=H({__name:"diagnosisList",props:{title:{type:String,default:"Detalles"}},setup(T){J(async()=>{const l=await W();(l==null?void 0:l.statusText)=="OK"&&(b.values=l==null?void 0:l.data.results,console.log(l==null?void 0:l.data.results)),D(r.value),p()});const b=P([]),r=h(1),m=h(3),x=h(!0),y=h(!0);let u=P([]);const d=h(""),k=h(!1),g=h(""),w=h(""),a=h(!1),M=()=>{k.value=!0},v=()=>{k.value=!1},p=async()=>{let l=await document.getElementsByClassName("color-td");for(let o=0;o<l.length;o++){const e=l[o];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","background-color: #4CAF50; color:white;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","background-color: #FF9800; color:white;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","background-color: #FF5722; color:white;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","background-color: #CDDC39 ; color:white;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","background-color: #CDDC39 ; color:white;")}console.log(typeof l[6].textContent)},f=()=>{window.print()},C=()=>{const l=(s,n)=>s.diagnosis_id-n.diagnosis_id,o=(s,n)=>n.diagnosis_id-s.diagnosis_id,e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,console.log(a),e.sort(o))},O=()=>{const l=(s,n)=>s.patient.localeCompare(n.patient),o=(s,n)=>n.patient.localeCompare(s.patient),e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,e.sort(o))},X=()=>{const l=(s,n)=>s.test.localeCompare(n.test),o=(s,n)=>n.test.localeCompare(s.test),e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,e.sort(o))},Y=()=>{const l=(s,n)=>parseFloat(s.result)-parseFloat(n.result),o=(s,n)=>parseFloat(n.result)-parseFloat(s.result),e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,console.log(a),e.sort(o))},Z=()=>{const l=(s,n)=>s.pi-n.pi,o=(s,n)=>n.pi-s.pi,e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,console.log(a),e.sort(o))},q=()=>{const l=(s,n)=>s.ideal-n.ideal,o=(s,n)=>n.ideal-s.ideal,e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,console.log(a),e.sort(o))},tt=()=>{const l=(s,n)=>s.pf-n.pf,o=(s,n)=>n.pf-s.pf,e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,console.log(a),e.sort(o))},et=()=>{const l=(s,n)=>s.interpretation.localeCompare(n.interpretation),o=(s,n)=>n.interpretation.localeCompare(s.interpretation),e=u.values;return a.value?(a.value=!1,e.sort(l)):(a.value=!0,e.sort(o))},B=()=>{if(d.value.length==0)D(1);else{const l=o=>b.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(o)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(o.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(o.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(o)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(o)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(o)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(o)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(o.toLowerCase())>-1);if(l(d.value).length>0)u.values=l(d.value),x.value=!1,w.value=u.values.length+" records found",g.value="";else{let o=[];u.values=o.values,x.value=!1,w.value="",g.value="No records found"}}},st=()=>{y.value==!0?y.value=!1:y.value=!0},lt=l=>l==r.value?"active":"",z=()=>Math.ceil(b.values.length/m.value),D=async l=>{let o=[];if(u.values=o.values,d.value="",g.value="",w.value="",x.value=!0,r.value=l,u.values.length>0){let e=l*m.value-m.value,s=l*m.value;u.slice(e,s)}else{let e=l*m.value-m.value,s=l*m.value,n=b.values;u.values=n.slice(e,s)}},K=()=>{r.value>1&&r.value--,D(1)},U=()=>{r.value>1&&r.value--,D(r.value)},j=()=>{r.value<z()&&r.value++,D(r.value)},G=()=>{r.value<z()&&r.value++,D(z())};return(l,o)=>(i(),c("div",Mt,[S(Vt),t("div",null,[St,t("div",Ft,[t("div",Lt,[t("a",{onClick:M,type:"button",class:"col-1 icon-add",title:"Create diagnosis"},Et),t("div",{class:"col-auto"},[t("div",{class:"form-switch form-check",title:"Clasic mode"},[Nt,t("input",{onClick:st,type:"checkbox",name:"inputNameSwitch",class:"form-check-input myCheck",id:"switDiagnosisPatient"})])]),t("div",Ot,[y.value==!0?(i(),c("form",{key:0,onKeyup:B},[t("div",Rt,[t("div",At,[It,E(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[N,d.value]])])])],32)):(i(),c("form",{key:1,onSubmit:Q(B,["prevent"])},[t("div",Tt,[Bt,t("div",Kt,[w.value.length>0||g.value.length>0?(i(),c("button",{key:0,onClick:o[1]||(o[1]=e=>D(1)),type:"button",class:"btn-form cancel"}," Exit ")):(i(),c("button",Ut,"Exit"))]),t("div",jt,[Gt,E(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>d.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[N,d.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:f,type:"button"},Jt)])])]),t("div",Qt,[t("table",Wt,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",null,[Xt,t("button",{onClick:C,class:"btn btn-sm th-font-size"},"Id")]),t("th",null,[Yt,t("button",{onClick:O,class:"btn btn-sm th-font-size"},"FullName")]),t("th",null,[Zt,t("button",{onClick:X,class:"btn btn-sm th-font-size"},"Test")]),t("th",null,[qt,t("button",{onClick:Y,class:"btn btn-sm th-font-size"},"Result")]),t("th",null,[te,t("button",{onClick:Z,class:"btn btn-sm th-font-size"},"Ri")]),t("th",null,[ee,t("button",{onClick:q,class:"btn btn-sm th-font-size"},"Ideal")]),t("th",null,[se,t("button",{onClick:tt,class:"btn btn-sm th-font-size"},"Rf")]),t("th",null,[le,t("button",{onClick:et,class:"btn btn-sm th-font-size"}," Interpretation ")]),oe])]),t("tbody",null,[(i(!0),c(R,null,A(V(u).values,e=>(i(),c("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",ne,_(e.diagnosis_id),1),t("td",ae,_(e.patient),1),t("td",ie,_(e.test),1),t("td",ce,_(e.result),1),t("td",ue,_(e.pi),1),t("td",re,_(e.ideal),1),t("td",de,_(e.pf),1),t("td",ve,_(e.interpretation),1),t("td",null,[S(V(L),{to:"/diagnosis/detail/"+e.diagnosis_id,title:"Detail"},{default:F(()=>[_e]),_:2},1032,["to"]),I(" | "),S(V(L),{to:"/diagnosis/edit/"+e.diagnosis_id,title:"Edit"},{default:F(()=>[he]),_:2},1032,["to"]),I(" | "),S(V(L),{to:"/diagnosis/delete/"+e.diagnosis_id,title:"Delete"},{default:F(()=>[pe]),_:2},1032,["to"])])]))),128))]),w.value.length>0?(i(),c("small",fe,_(w.value),1)):$("",!0),g.value.length>0?(i(),c("small",be,_(g.value),1)):$("",!0)])]),t("nav",{onClick:p,"aria-label":"Page navigation"},[x.value?(i(),c("ul",me,[ge,r.value>=2?(i(),c("li",{key:0,onClick:K,class:"page-item"},ye)):(i(),c("li",{key:1,onClick:K,class:"page-item disabled"},xe)),r.value>=2?(i(),c("li",{key:2,onClick:U,class:"page-item"},De)):(i(),c("li",{key:3,onClick:U,class:"page-item disabled"},ze)),(i(!0),c(R,null,A(z(),e=>(i(),c("li",{key:e,onClick:s=>D(e),class:nt(["page-item",lt(e)])},[r.value-1<e&&e<r.value+3?(i(),c("button",Me,_(e),1)):$("",!0)],10,Ve))),128)),r.value<z()?(i(),c("li",{key:4,onClick:j,class:"page-item"},[r.value<z()?(i(),c("button",Se,Le)):$("",!0)])):(i(),c("li",{key:5,onClick:j,class:"page-item disabled"},Ee)),r.value<z()?(i(),c("li",{key:6,onClick:G,class:"page-item"},Oe)):(i(),c("li",{key:7,onClick:G,class:"page-item disabled"},Ae)),t("li",Ie,[t("button",Te,"Total: "+_(b.values.length),1)])])):$("",!0)])]),k.value?(i(),ot(at,{key:0,"close-form-create":v})):$("",!0)]))}});export{Je as default};

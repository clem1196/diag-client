import{d as at,o as it,r as P,a as v,b as a,c as r,e as t,t as _,f as O,v as N,w as ct,F as T,i as B,u as D,g as p,k as j,j as F,s as rt,l as ut,R as dt,h as G,n as vt,p as _t,m as pt,_ as ht}from"./index-C9bBNBXe.js";import{g as ft}from"./diagnosis-Ca66f_EQ.js";import bt from"./diagnosisGraphics-q2RiW6xj.js";import{_ as mt}from"./diagnosisAdd.vue_vue_type_script_setup_true_lang-ZqpPae8D.js";import{_ as gt}from"./diagnosisEdit.vue_vue_type_script_setup_true_lang-CeHdqfrb.js";import{_ as kt}from"./diagnosisDelete.vue_vue_type_script_setup_true_lang-CVP_kR58.js";import"./helpers.segment-Dc4JXg8Y.js";import"./diagnosis-D5vc92nm.js";const c=y=>(_t("data-v-6b909780"),y=y(),pt(),y),Ct={class:"container"},yt={class:"card mt-3 p-3"},xt={class:"col-1"},wt={key:0},Dt={key:0,class:"card card-title"},Mt={class:"bi-check-circle-fill text-success"},Vt={key:1,class:"card card-title"},zt={class:"card card-search"},St={class:"row row-search"},Ft=c(()=>t("i",{class:"bi-person-fill-add"},null,-1)),It=[Ft],At={class:"col-auto"},Lt={class:"row m-2"},Rt={class:"col-auto"},$t=c(()=>t("i",{class:"bi-search"},null,-1)),Et={class:"row"},Pt=c(()=>t("div",{class:"col-auto"},[t("button",{type:"submit",class:"btn-form"},"Search")],-1)),Ot={class:"col-auto"},Nt={key:1,disabled:"",type:"button",class:"btn-form"},Tt={class:"col-auto mt-1"},Bt=c(()=>t("i",{class:"bi-search"},null,-1)),jt=c(()=>t("i",{class:"bi-printer"},null,-1)),Gt=[jt],Kt={class:"scale-table"},Ut={class:"table size-static table-hover table-responsive-sm text-center"},Ht=c(()=>t("i",{class:"bi-filter"},null,-1)),Jt=c(()=>t("i",{class:"bi-filter"},null,-1)),Qt=c(()=>t("i",{class:"bi-filter"},null,-1)),Wt=c(()=>t("i",{class:"bi-filter"},null,-1)),Xt=c(()=>t("i",{class:"bi-filter"},null,-1)),Yt=c(()=>t("i",{class:"bi-filter"},null,-1)),Zt=c(()=>t("i",{class:"bi-filter"},null,-1)),qt=c(()=>t("th",null,[t("button",{class:"btn btn-sm"},"Action")],-1)),te={class:"color-td font-size-test"},ee={class:"color-td"},se={class:"color-td"},oe=c(()=>t("i",{class:"bi-card-checklist size-checklist"},null,-1)),le=["onClick"],ne=c(()=>t("i",{class:"bi-pencil-fill size-pencil"},null,-1)),ae=[ne],ie=["onClick"],ce=c(()=>t("i",{class:"bi-trash-fill size-trash"},null,-1)),re=[ce],ue={key:0,class:"text-success"},de={key:1,class:"text-danger"},ve={key:0,class:"pagination justify-content-center"},_e=c(()=>t("li",{class:"page-item disabled"},[t("button",{disabled:"",class:"page-link size"},"Pages")],-1)),pe=c(()=>t("button",{type:"button",class:"page-link size"},"First",-1)),he=[pe],fe=c(()=>t("button",{type:"button",class:"page-link size"},"First",-1)),be=[fe],me=c(()=>t("button",{class:"page-link size",type:"button"},[t("i",{class:"bi-chevron-left"})],-1)),ge=[me],ke=c(()=>t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-left"})],-1)),Ce=[ke],ye=["onClick"],xe={key:0,type:"button",class:"page-link size"},we={key:0,type:"button",class:"page-link size"},De=c(()=>t("i",{class:"bi-chevron-right"},null,-1)),Me=[De],Ve=c(()=>t("button",{type:"button",class:"page-link size"},[t("i",{class:"bi-chevron-right"})],-1)),ze=[Ve],Se=c(()=>t("button",{type:"button",class:"page-link size"},"Last",-1)),Fe=[Se],Ie=c(()=>t("button",{type:"button",class:"page-link size"},"Last",-1)),Ae=[Ie],Le={class:"page-item disabled"},Re={class:"page-link size"},$e=c(()=>t("div",{class:"card card-title"}," Graphics ",-1)),Ee=at({__name:"diagnosisPatientDetail",props:{title:{type:String,default:"Detalles"}},setup(y){const M=rt();it(async()=>{if(M.params.name!==void 0){const o=await ft();if((o==null?void 0:o.statusText)=="OK"){console.log(M.params.name);let l=await(o==null?void 0:o.data.results.filter(e=>e.patient===M.params.name));h.values=l}console.log(h),b(u.value),I()}});const h=P([]),u=v(1),m=v(3),x=v(!0),K=v(!0);let d=P([]);const f=v(""),V=v(!1),z=v(!1),S=v(!1);let w=v(0);const k=v(""),C=v(""),i=v(!1),U=()=>{V.value=!0},H=()=>{V.value=!1,location.reload()},J=o=>{console.log(o),w.value=o,z.value=!0},Q=()=>{z.value=!1},W=o=>{console.log(o),w.value=o,S.value=!0},X=()=>{S.value=!1},I=async()=>{let o=await document.getElementsByClassName("color-td");for(let l=0;l<o.length;l++){const e=o[l];(e.textContent==="Saludable"||e.textContent==="Normal")&&e.setAttribute("style","color:#4CAF50;"),(e.textContent==="Riesgo inicial"||e.textContent==="Riesgo final"||e.textContent==="Bajo"||e.textContent==="Alto"||e.textContent==="Severo")&&e.setAttribute("style","color:#FF9800;"),(e.textContent==="Peligro inicial"||e.textContent==="Peligro final"||e.textContent==="Muy alto")&&e.setAttribute("style","color:#FF5722;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;"),(e.textContent==="Leve"||e.textContent==="Moderado")&&e.setAttribute("style","color:#CDDC39;")}console.log(typeof o[6].textContent)},Y=()=>{window.print()},Z=()=>{const o=(s,n)=>s.diagnosis_id-n.diagnosis_id,l=(s,n)=>n.diagnosis_id-s.diagnosis_id,e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},q=()=>{const o=(s,n)=>s.test.localeCompare(n.test),l=(s,n)=>n.test.localeCompare(s.test),e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,e.sort(l))},tt=()=>{const o=(s,n)=>parseFloat(s.result)-parseFloat(n.result),l=(s,n)=>parseFloat(n.result)-parseFloat(s.result),e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},et=()=>{const o=(s,n)=>s.pi-n.pi,l=(s,n)=>n.pi-s.pi,e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},st=()=>{const o=(s,n)=>s.ideal-n.ideal,l=(s,n)=>n.ideal-s.ideal,e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},ot=()=>{const o=(s,n)=>s.pf-n.pf,l=(s,n)=>n.pf-s.pf,e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,console.log(i),e.sort(l))},lt=()=>{const o=(s,n)=>s.interpretation.localeCompare(n.interpretation),l=(s,n)=>n.interpretation.localeCompare(s.interpretation),e=d.values;return i.value?(i.value=!1,e.sort(o)):(i.value=!0,e.sort(l))},A=()=>{if(f.value.length==0)b(1);else{const o=l=>h.values.filter(s=>s.diagnosis_id!==null&&s.diagnosis_id!==void 0&&s.diagnosis_id.toString().indexOf(l)>-1||s.patient!==null&&s.patient!==void 0&&s.patient.toLowerCase().indexOf(l.toLowerCase())>-1||s.test!==null&&s.test!==void 0&&s.test.toLowerCase().indexOf(l.toLowerCase())>-1||s.result!==null&&s.result!==void 0&&s.result.toString().indexOf(l)>-1||s.pi!==null&&s.pi!==void 0&&s.pi.toString().indexOf(l)>-1||s.ideal!==null&&s.ideal!==void 0&&s.ideal.toString().indexOf(l)>-1||s.pf!==null&&s.pf!==void 0&&s.pf.toString().indexOf(l)>-1||s.interpretation!==null&&s.interpretation!==void 0&&s.interpretation.toLowerCase().indexOf(l.toLowerCase())>-1);if(o(f.value).length>0)d.values=o(f.value),x.value=!1,C.value=d.values.length+" records found",k.value="";else{let l=[];d.values=l.values,x.value=!1,C.value="",k.value="No records found"}}},nt=o=>o==u.value?"active":"",g=()=>Math.ceil(h.values.length/m.value),b=async o=>{let l=[];if(d.values=l.values,f.value="",k.value="",C.value="",x.value=!0,u.value=o,d.values.length>0){let e=o*m.value-m.value,s=o*m.value;d.slice(e,s)}else{let e=o*m.value-m.value,s=o*m.value,n=h.values;d.values=n.slice(e,s)}},L=()=>{u.value>1&&u.value--,b(1)},R=()=>{u.value>1&&u.value--,b(u.value)},$=()=>{u.value<g()&&u.value++,b(u.value)},E=()=>{u.value<g()&&u.value++,b(g())};return(o,l)=>(a(),r("div",Ct,[t("div",yt,[t("div",xt,[t("button",{onClick:l[0]||(l[0]=e=>o.$router.replace("/diagnosis")),class:"btn btn-salir",type:"button"},"Salir")]),o.$route.params.name!==void 0?(a(),r("div",wt,[h.values.length===13?(a(),r("div",Dt,[t("i",Mt,_(" "+o.$route.params.name+": ")+"Test Completo",1)])):(a(),r("div",Vt,_(o.$route.params.name+`(${h.values.length} de 13)`),1)),t("div",zt,[t("div",St,[t("a",{onClick:U,class:"col-auto icon-add",title:"Add diagnosis"},It),t("div",At,[K.value==!0?(a(),r("form",{key:0,onKeyup:A},[t("div",Lt,[t("div",Rt,[$t,O(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>f.value=e),type:"search",id:"inputMode1",name:"inputMode1",class:"form-control form-control-sm search"},null,512),[[N,f.value]])])])],32)):(a(),r("form",{key:1,onSubmit:ct(A,["prevent"])},[t("div",Et,[Pt,t("div",Ot,[C.value.length>0||k.value.length>0?(a(),r("button",{key:0,onClick:l[2]||(l[2]=e=>b(1)),type:"button",class:"btn-form cancel"}," Exit ")):(a(),r("button",Nt,"Exit"))]),t("div",Tt,[Bt,O(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>f.value=e),id:"inputMode2",name:"inputMode2",class:"form-control form-control-sm search",type:"search"},null,512),[[N,f.value]])])])],32))]),t("div",{class:"col-auto icon-print",title:"Print"},[t("a",{onClick:Y},Gt)])])]),t("div",Kt,[t("table",Ut,[t("thead",null,[t("tr",{class:"thead-tr"},[t("th",{hidden:""},[Ht,t("button",{onClick:Z,class:"btn btn-sm",title:"Id"},"Id")]),t("th",null,[Jt,t("button",{onClick:q,class:"btn btn-sm",title:"Tipo de prueba"},"Test")]),t("th",null,[Qt,t("button",{onClick:tt,class:"btn btn-sm",title:"Valor de la prueba clínica"},"Res")]),t("th",{hidden:""},[Wt,t("button",{onClick:et,class:"btn btn-sm",title:"rango inicial"},"Ri")]),t("th",{hidden:""},[Xt,t("button",{onClick:st,class:"btn btn-sm",title:"Rango ideal"},"Ideal")]),t("th",{hidden:""},[Yt,t("button",{onClick:ot,class:"btn btn-sm",title:"Rango final"},"Rf")]),t("th",null,[Zt,t("button",{onClick:lt,class:"btn btn-sm",title:"Interpretación del resultado"}," Interp ")]),qt])]),t("tbody",null,[(a(!0),r(T,null,B(D(d).values,e=>(a(),r("tr",{key:e.diagnosis_id,class:"tbody-tr"},[t("td",te,_(e.test),1),t("td",ee,_(e.result),1),t("td",se,_(e.interpretation),1),t("td",null,[j(D(dt),{to:"/diagnosis/detail/"+e.diagnosis_id,title:"Detail"},{default:ut(()=>[oe]),_:2},1032,["to"]),G(" | "),t("a",{onClick:s=>J(e.diagnosis_id),title:"Edit"},ae,8,le),G(" | "),t("a",{onClick:s=>W(e.diagnosis_id),title:"Delete"},re,8,ie)])]))),128))]),C.value.length>0?(a(),r("small",ue,_(C.value),1)):p("",!0),k.value.length>0?(a(),r("small",de,_(k.value),1)):p("",!0)])]),t("nav",{onClick:I,"aria-label":"Page navigation"},[x.value?(a(),r("ul",ve,[_e,u.value>=2?(a(),r("li",{key:0,onClick:L,class:"page-item"},he)):(a(),r("li",{key:1,onClick:L,class:"page-item disabled"},be)),u.value>=2?(a(),r("li",{key:2,onClick:R,class:"page-item"},ge)):(a(),r("li",{key:3,onClick:R,class:"page-item disabled"},Ce)),(a(!0),r(T,null,B(g(),e=>(a(),r("li",{key:e,onClick:s=>b(e),class:vt(["page-item",nt(e)])},[u.value-1<e&&e<u.value+3?(a(),r("button",xe,_(e),1)):p("",!0)],10,ye))),128)),u.value<g()?(a(),r("li",{key:4,onClick:$,class:"page-item"},[u.value<g()?(a(),r("button",we,Me)):p("",!0)])):(a(),r("li",{key:5,onClick:$,class:"page-item disabled"},ze)),u.value<g()?(a(),r("li",{key:6,onClick:E,class:"page-item"},Fe)):(a(),r("li",{key:7,onClick:E,class:"page-item disabled"},Ae)),t("li",Le,[t("button",Re,"Total: "+_(h.values.length),1)])])):p("",!0)]),$e,t("div",null,[j(bt)])])):p("",!0),V.value?(a(),F(mt,{key:1,"close-form-add":H})):p("",!0),z.value?(a(),F(gt,{key:2,"close-form-edit":Q,"edit-id":D(w)},null,8,["edit-id"])):p("",!0),S.value?(a(),F(kt,{key:3,"close-form-delete":X,"delete-id":D(w)},null,8,["delete-id"])):p("",!0)])]))}}),Ue=ht(Ee,[["__scopeId","data-v-6b909780"]]);export{Ue as default};
